var vuethers=function(u,e,g,k){"use strict";const f=g.defineStore("dapp",()=>{const o={},t=e.ref(null);let n=e.ref(null);const a={},i={};function r(c,l){i[c]=new I(c,l)}return i.add=r,{config:o,provider:t,signer:n,contracts:a,status:i}}),_={networks:[{name:"Ethereum Mainnet",displayName:"Ethereum",chainId:1,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/ethereum.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://etherscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.infura.io/v3/"},{name:"Ropsten",displayName:"Ropsten (Ethereum Testnet)",chainId:3,type:"testnet",icon:null,currency:{name:"Ropsten Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://ropsten.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://ropsten.infura.io/v3/"},{name:"Rinkeby",displayName:"Rinkeby (Ethereum Testnet)",chainId:4,type:"testnet",icon:null,currency:{name:"Rinkeby Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://rinkeby.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://rinkeby.infura.io/v3/"},{name:"G\xF6rli",displayName:"G\xF6rli (Ethereum Testnet)",chainId:5,type:"testnet",icon:null,currency:{name:"G\xF6rli Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://goerli.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://goerli.infura.io/v3/"},{name:"Optimism",chainId:10,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/optimism.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://optimistic.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.optimism.io/"},{name:"Cronos Mainnet Beta",displayName:"Cronos",chainId:25,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/cronos.svg",currency:{name:"Cronos",symbol:"CRO",decimals:18},contracts:null,explorer:{name:"Cronos Explorer",url:"https://cronos.org/explorer",standard:"EIP3091"},defaultRPC:"https://evm.cronos.org"},{name:"Telos EVM Mainnet",displayName:"Telos",chainId:40,type:"mainnet",icon:null,currency:{name:"Telos",symbol:"TLOS",decimals:18},contracts:null,explorer:{name:"Teloscan",url:"https://teloscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.telos.net/evm"},{name:"Binance Smart Chain Mainnet",displayName:"BSC",chainId:56,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/bsc.svg",currency:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18},contracts:null,explorer:{name:"Bscscan",url:"https://bscscan.com/",standard:"EIP3091"},defaultRPC:"https://bsc-dataseed1.binance.org/"},{name:"Gnosis Chain",displayName:"Gnosis",chainId:100,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/gnosis.svg",currency:{name:"xDAI",symbol:"xDAI",decimals:18},contracts:null,explorer:{name:"Blockscout",url:"https://blockscout.com/xdai/mainnet/",standard:"EIP3091"},defaultRPC:"https://rpc.gnosischain.com"},{name:"Fuse Mainnet",displayName:"Fuse",chainId:122,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/fuse.svg",currency:{name:"Fuse",symbol:"FUSE",decimals:18},contracts:null,explorer:{name:"Fuse Explorer",url:"https://explorer.fuse.io/",standard:"EIP3091"},defaultRPC:"https://rpc.fuse.io"},{name:"Huobi ECO Chain Mainnet",displayName:"HECO",chainId:128,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/heco.svg",currency:{name:"Huobi ECO Chain Native Token",symbol:"HT",decimals:18},contracts:null,explorer:{name:"Hecoinfo",url:"https://hecoinfo.com",standard:"EIP3091"},defaultRPC:"https://http-mainnet.hecochain.com"},{name:"Polygon Mainnet",displayName:"Polygon",chainId:137,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/polygon.svg",currency:{name:"MATIC",symbol:"MATIC",decimals:18},contracts:null,explorer:{name:"Polygonscan",url:"https://polygonscan.com/",standard:"EIP3091"},defaultRPC:"https://polygon-rpc.com/"},{name:"Fantom Opera",displayName:"Fantom",chainId:250,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/fantom.svg",currency:{name:"Fantom",symbol:"FTM",decimals:18},contracts:null,explorer:{name:"Ftmscan",url:"https://ftmscan.com/",standard:"EIP3091"},defaultRPC:"https://rpc.ftm.tools"},{name:"Metis Andromeda Mainnet",displayName:"Metis",chainId:1088,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/metis.svg",currency:{name:"Metis",symbol:"METIS",decimals:18},contracts:null,explorer:{name:"Metis Explorer",url:"https://andromeda-explorer.metis.io",standard:"EIP3091"},defaultRPC:"https://andromeda.metis.io/?owner=1088"},{name:"Moonbeam",chainId:1284,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/moonbeam.svg",currency:{name:"Glimmer",symbol:"GLMR",decimals:18},contracts:null,explorer:{name:"Moonscan",url:"https://moonbeam.moonscan.io",standard:"EIP3091"},defaultRPC:"https://rpc.api.moonbeam.network"},{name:"Moonriver",chainId:1285,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/moonriver.svg",currency:{name:"Moonriver",symbol:"MOVR",decimals:18},contracts:null,explorer:{name:"Moonscan",url:"https://moonriver.moonscan.io/",standard:"EIP3091"},defaultRPC:"https://rpc.api.moonriver.moonbeam.network"},{name:"Klaytn Mainnet Cypress",displayName:"Klaytn",chainId:8217,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/klaytn.svg",currency:{name:"KLAY",symbol:"KLAY",decimals:18},contracts:null,explorer:{name:"Klaytnscope",url:"https://scope.klaytn.com",standard:"EIP3091"},defaultRPC:"https://public-node-api.klaytnapi.com/v1/cypress"},{name:"Hardhat",displayName:"Hardhat",chainId:31337,type:"testnet",icon:null,currency:{name:"GoChain Coin",symbol:"GO",decimals:18},contracts:null,explorer:null,defaultRPC:"http://127.0.0.1:8545/"},{name:"Arbitrum One",displayName:"Arbitrum",chainId:42161,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/arbitrum.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Arbiscan",url:"https://arbiscan.io/",standard:"EIP3091"},defaultRPC:"https://arbitrum-mainnet.infura.io/v3/"},{name:"Celo Mainnet",displayName:"Celo",chainId:42220,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/celo.svg",currency:{name:"CELO",symbol:"CELO",decimals:18},contracts:null,explorer:{name:"Celo Explorer",url:"https://explorer.celo.org/",standard:"EIP3091"},defaultRPC:"https://forno.celo.org"},{name:"Emerald Paratime Mainnet",displayName:"Emerald",chainId:42262,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/emerald.svg",currency:{name:"Emerald Rose",symbol:"ROSE",decimals:18},contracts:null,explorer:{name:"Emerald Explorer",url:"https://explorer.emerald.oasis.dev/",standard:"EIP3091"},defaultRPC:"https://emerald.oasis.dev"},{name:"Avalanche C-Chain",displayName:"Avalanche",chainId:43114,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/avalanche.svg",currency:{name:"Avalanche",symbol:"AVAX",decimals:18},contracts:null,explorer:{name:"Snowtrace",url:"https://snowtrace.io/",standard:"EIP3091"},defaultRPC:"https://api.avax.network/ext/bc/C/rpc"},{name:"Aurora Mainnet",displayName:"Aurora",chainId:1313161554,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/aurora.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Aurorascan",url:"https://aurorascan.dev",standard:"EIP3091"},defaultRPC:"https://mainnet.aurora.dev"},{name:"Harmony Mainnet Shard 0",displayName:"Harmony",chainId:16666e5,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/harmony.svg",currency:{name:"ONE",symbol:"ONE",decimals:18},contracts:null,explorer:{name:"Harmony Block Explorer",url:"https://explorer.harmony.one",standard:"EIP3091"},defaultRPC:"https://api.harmony.one"}],defaults:{networks:{icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/unknown.svg"}}},S={class:"ConnectWalletButton"},B={key:1,disabled:""},R={key:2,disabled:""},P={key:3,disabled:""},x={key:4,disabled:""},V={__name:"_ConnectWalletButton",async setup(o){let t,n;const a=f();async function i(){try{return await a.signer.getAddress(),a.status.wallet.set("CONNECTED"),!0}catch{return!1}}[t,n]=e.withAsyncContext(()=>i()),await t,n();async function r(){if(!await i())try{a.status.wallet.set("REQUESTED"),await a.provider.send("eth_requestAccounts",[]),a.signer=a.provider.getSigner(),a.status.wallet.set("CONNECTED");for(const[l,m]of Object.entries(a.contracts))a.contracts[l]=await m.connect(a.signer)}catch(l){l.code===4001?a.status.wallet.set("REFUSED"):a.status.wallet.set("ERROR")}}function c(){a.status.wallet.set("DISCONNECTED")}return(l,m)=>(e.openBlock(),e.createElementBlock("div",S,[e.unref(a).status.wallet.is("DISCONNECTED")?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:r},"Connect Wallet")):e.unref(a).status.wallet.is("REQUESTED")?(e.openBlock(),e.createElementBlock("button",B,"Connection requested...")):e.unref(a).status.wallet.is("REFUSED")?(e.openBlock(),e.createElementBlock("button",R,"Connection refused!")):e.unref(a).status.wallet.is("ERROR")?(e.openBlock(),e.createElementBlock("button",P,"Connection error!")):e.unref(a).status.network.is("WRONG")?(e.openBlock(),e.createElementBlock("button",x,"Wrong network! ("+e.toDisplayString(e.unref(a).networks.current.displayName)+")",1)):e.unref(a).status.wallet.is("CONNECTED")?(e.openBlock(),e.createElementBlock("button",{key:5,onClick:c},"Disconnect")):e.createCommentVNode("",!0)]))}},D={__name:"ConnectWalletButton",setup(o){return(t,n)=>(e.openBlock(),e.createBlock(e.Suspense,null,{default:e.withCtx(()=>[e.createVNode(V)]),_:1}))}},T=e.createTextVNode("Functions : "),O=["onClick"],$=["onUpdate:modelValue","type","placeholder"],M=["onUpdate:modelValue","placeholder"],A={key:0},F=e.createTextVNode(" Events : "),G=e.createElementVNode("p",null,"Logs:",-1),H={__name:"_ContractInteractor",props:{contractName:{type:String,required:!0}},async setup(o){let t,n;const a=o,r=f().contracts[a.contractName],c=([t,n]=e.withAsyncContext(()=>r.owner()),t=await t,n(),t);async function l(s){try{const p=await r[s](...m.value[s].inputs);m.value[s].outputs[0]=p}catch(p){m.value[s].error=p.reason}}const m=e.ref({});for(const s of Object.values(r.interface.functions)){m.value[s.name]={inputs:[],outputs:[],error:null,properties:{constant:s.constant,payable:s.payable,inputs:s.inputs,outputs:s.outputs}};for(const p in s.inputs)m.value[s.name].inputs[p]="";for(const p in s.outputs)m.value[s.name].outputs[p]=""}async function J(s){b.value[s.event].count+=1;let p=`Block ${s.blockNumber} -> {`;for(const d of b.value[s.event].properties.inputs)p+=`${d.name}:${s.args[d.name]}, `;p=p.substring(0,p.length-2)+"}",b.value[s.event].logs.push(p)}const b=e.ref({});for(const s of Object.values(r.interface.events))b.value[s.name]={count:0,logs:[],properties:{inputs:s.inputs}},r.on(s,J);function Z(s){return s.includes("int")?"number":"text"}return(s,p)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("p",null,"Interact with '"+e.toDisplayString(o.contractName)+"' contract :",1),e.createElementVNode("ul",null,[e.createElementVNode("li",null,"Address : "+e.toDisplayString(e.unref(r).address),1),e.createElementVNode("li",null,"Owner : "+e.toDisplayString(e.unref(c)),1),e.createElementVNode("li",null,[T,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,(d,E)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("button",{onClick:h=>l(E)},e.toDisplayString(E)+" ("+e.toDisplayString(d.properties.constant?"read-only":"")+e.toDisplayString(d.properties.payable?", payable":"")+")",9,O),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.properties.inputs,(h,y)=>e.withDirectives((e.openBlock(),e.createElementBlock("input",{"onUpdate:modelValue":N=>d.inputs[y]=N,type:Z(h.type),placeholder:h.type},null,8,$)),[[e.vModelDynamic,d.inputs[y]]])),256)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.properties.outputs,(h,y)=>e.withDirectives((e.openBlock(),e.createElementBlock("input",{"onUpdate:modelValue":N=>d.outputs[y]=N,type:"text",placeholder:h.type,disabled:""},null,8,M)),[[e.vModelText,d.outputs[y]]])),256)),d.error?(e.openBlock(),e.createElementBlock("p",A,e.toDisplayString(d.error),1)):e.createCommentVNode("",!0)]))),256))])]),e.createElementVNode("li",null,[F,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.value,(d,E)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("h3",null,e.toDisplayString(E),1),e.createElementVNode("p",null,"Count : "+e.toDisplayString(d.count),1),G,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.logs,h=>(e.openBlock(),e.createElementBlock("li",null,e.toDisplayString(h),1))),256))])]))),256))])])])],64))}},U={__name:"ContractInteractor",props:{contractName:{type:String,required:!0}},setup(o){const t=o;return(n,a)=>(e.openBlock(),e.createBlock(e.Suspense,null,{default:e.withCtx(()=>[e.createVNode(H,{contractName:t.contractName},null,8,["contractName"])]),_:1}))}},L={class:"SelectNetworkDropdown"},W={key:0,selected:""},j=["src","alt"],q=["onClick"],K=["src","alt"],Q={__name:"SelectNetworkDropdown",setup(o){const t=f();async function n(r){const c=t.networks.available.find(l=>l.chainId===parseInt(r));if(c){r=k.ethers.utils.hexlify(parseInt(r)).toString(),r=k.ethers.utils.hexValue(r);try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})}catch(m){m.code===4902&&await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:r,rpcUrls:[c.defaultRPC],chainName:c.name,nativeCurrency:{name:c.currency.symbol,symbol:c.currency.symbol,decimals:c.currency.decimals},blockExplorerUrls:c.explorer&&c.explorer.url!==""?[c.explorer.url]:null}]})}const l=await t.provider.getNetwork();t.networks.current.chainId!==l.chainId&&window.location.reload()}}let a=e.ref(!1);function i(){a.value=!a.value}return(r,c)=>(e.openBlock(),e.createElementBlock("div",L,[e.createElementVNode("ul",{onClick:i},[e.unref(t).networks.current?(e.openBlock(),e.createElementBlock("li",W,[e.createElementVNode("img",{width:"40",src:e.unref(t).networks.current.icon?e.unref(t).networks.current.icon:e.unref(t).defaults.networks.icon,alt:e.unref(t).networks.current.name+" logo"},null,8,j),e.createElementVNode("p",null,e.toDisplayString(e.unref(t).networks.current.displayName),1)])):e.createCommentVNode("",!0),a.value?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(t).networks.available,l=>(e.openBlock(),e.createElementBlock("li",{key:l.chainId,onClick:m=>n(l.chainId)},[e.createElementVNode("img",{width:"40",src:l.icon?l.icon:e.unref(t).defaults.networks.icon,alt:l.name+" logo"},null,8,K),e.createElementVNode("p",null,e.toDisplayString(l.displayName),1)],8,q))),128)):e.createCommentVNode("",!0)])]))}};class I{constructor(t,n){this._name=t;const a=e.ref(null);if(this._state=a.value,this.states=[],Array.isArray(n))for(const i of n)this.states.push(this._formatState(i));else throw`The 'states' parameter of a Status instance '${t}' must an array of strings. Got: ${n}`}_formatState(t){return t.toString().toUpperCase()}_isStateValid(t){return!!this.states.includes(this._formatState(t))}_areStatesValid(t){for(const n of t)if(!this._isStateValid(n))return!1;return!0}get(){return this._state}set(t){if(t=this._formatState(t),this._isStateValid(t))this._state=t;else throw`The state given to the set() method of Status instance '${this._name}' must a value in ${this.states}. Got: ${t}`}is(t){if(this._isStateValid(t))return this.get()==this._formatState(t);throw`The state given to the is() method of Status instance '${this._name}' must a value in ${this.states}. Got: ${t}`}isIn(t){if(this._areStatesValid(t)){for(const n of t)if(this.is(n))return!0;return!1}throw`The states given to the isIn() method of Status instance '${this._name}' must be an array with values in ${this.states}. Got: ${t}`}watch(t){e.watch(this.get(),()=>{t(this.get())})}watchState(t,n){if(this._isStateValid(t))e.watch(this.get(),(a,i)=>{this.is(t)&&n(this.get())});else throw`The state given to the watchState() method of Status instance '${this._name}' must a value in ${this.states}. Got: ${t}`}watchStates(t,n){if(this._areStatesValid(t))e.watch(this.get(),()=>{this.isIn(t)&&n(this.get())});else throw`The states given to the watchStates() method of Status instance '${this._name}' must be an array with values in ${this.states}. Got: ${t}`}}function Y(o){const t=o.split(" ");for(let n=0;n<t.length;n++)t[n]=t[n][0].toUpperCase()+t[n].substring(1);return t.join(" ")}function C(o){return o&&typeof o=="object"&&!Array.isArray(o)}function w(o,...t){if(!t.length)return o;const n=t.shift();if(C(o)&&C(n))for(const a in n)C(n[a])?(o[a]||Object.assign(o,{[a]:{}}),w(o[a],n[a])):Object.assign(o,{[a]:n[a]});return w(o,...t)}async function z(o){return g.getActivePinia()||o.use(g.createPinia()),f()}async function X(o,t){const n=await z(o);n.provider=e.markRaw(new k.ethers.providers.Web3Provider(window.ethereum,"any")),n.signer=e.markRaw(n.provider.getSigner()),n.provider.on("network",(i,r)=>{r&&r!==i&&window.location.reload()}),n.status.add("wallet",["DISCONNECTED","REQUESTED","REFUSED","ERROR","CONNECTED"]),n.status.add("network",["WRONG","ERROR"]),n.status.wallet.watchStates(["REFUSED","ERROR"],()=>{setTimeout(()=>{n.status.wallet.set("DISCONNECTED")},5e3)});const a=await n.provider.getNetwork();if(t){const i=w({..._},{...t});i.networks=[];for(let r of t.networks)if(r.chainId){const c=_.networks.find(l=>l.chainId===r.chainId);r=w({...c},{...r}),r.displayName||(r.displayName=r.name),i.networks.push(r)}if(n.defaults=i.defaults,i.networks)if(n.networks={available:i.networks.filter(r=>r.chainId!==a.chainId),current:i.networks.find(r=>r.chainId===a.chainId),known:_.networks},n.networks.current&&n.networks.current.contracts){let r=!1;try{await n.signer.getAddress(),r=!0}catch{}for(const[c,l]of Object.entries(n.networks.current.contracts)){const m=new k.ethers.Contract(l.address,l.abi,r?n.signer:n.provider);n.contracts[c]=e.markRaw(m)}}else{const r=n.networks.known.find(c=>c.chainId===a.chainId);r?n.networks.current=r:(n.networks.current=a,n.networks.current.displayName=Y(n.networks.current.name)),n.status.wallet.setToWrongNetwork()}}}return u.ConnectWalletButton=D,u.ContractInteractor=U,u.SelectNetworkDropdown=Q,u.Status=I,u.initVuethers=X,u.useDappStore=f,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),u}({},Vue,Pinia,Ethers);
