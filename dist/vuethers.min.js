var vuethers=function(d,e,k){"use strict";class W extends Object{constructor(t,a){return super(),super.constructor(),this._statelessSource=t,this._statefulSource=a,new Proxy(this,{get:function(o,l,m){if(Object.keys(o._statefulSource.value).includes(l))return o._statefulSource.value[l];if(Object.keys(o._statelessSource).includes(l))return o._statelessSource[l]},set:function(o,l,m){if(Object.keys(o._statefulSource.value).includes(l))return o._statefulSource.value[l]=m,!0;if(Object.keys(o._statelessSource).includes(l))return o._statelessSource[l]=m,!0;throw`MixedStore object doesn't have any property called '${l}'. New properties cannot be set / removed directly on a MixedStore object, please use add() and remove() methods of the store.`}})}add(t,a,o){if(t==="stateful")this._statefulSource.value[a]=o;else if(t==="stateless")this._statelessSource[a]=o;else throw`The the 'source' argument MixedStore.add() method must be 'stateful' or 'stateless'. Got: ${t}`}remove(t,a){if(t==="stateful")delete this._statefulSource.value[a];else if(t==="stateless")delete this._statelessSource[a];else throw`The the 'source' argument MixedStore.remove() method must be 'stateful' or 'stateless'. Got: ${t}`}}class P{constructor(t,a){if(this._name=t,this.states=[],!Array.isArray(a))throw`The 'states' parameter of a Status instance '${t}' must an array of strings. Got: ${a}`;for(const o of a)this.states.push(this._formatState(o));this._state=e.ref(this.states[0])}_formatState(t){return t.toString().toUpperCase()}_isStateValid(t){return!!this.states.includes(this._formatState(t))}_areStatesValid(t){for(const a of t)if(!this._isStateValid(a))return!1;return!0}get(){return this._state.value}getRef(){return this.state}set(t){if(console.log(`status ${this._name} set to ${t}`),t=this._formatState(t),!this._isStateValid(t))throw`The state given to the set() method of Status instance '${this._name}' must a value in ${this.states}. Got: ${t}`;this._state.value=t}is(t){if(!this._isStateValid(t))throw`The state given to the is() method of Status instance '${this._name}' must a value in ${this.states}. Got: ${t}`;return this.get()==this._formatState(t)}isIn(t){if(!this._areStatesValid(t))throw`The states given to the isIn() method of Status instance '${this._name}' must be an array with values in ${this.states}. Got: ${t}`;for(const a of t)if(this.is(a))return!0;return!1}watch(t,a){let o=`The states given to the watch() method of Status instance '${this._name}' must be a string or an array with values in ${this.states}. Got: ${t}`;if(Array.isArray(t)){if(!this._areStatesValid(t))throw o;e.watch(this._state,()=>{t.includes(this._state)&&a(this.get())})}else{if(!this._isStateValid(t))throw o;e.watch(this._state,()=>{t===this._state&&a(this.get())})}}watchAny(t){this.watch(this.states,t)}}const g=e.computed(()=>n.safe);function T(s){if(g.value)s();else{const t=e.watch(g,()=>{g.value&&(s(),t())})}}const y=e.computed(()=>g.value&&!n.status.network.is("DISCONNECTED"));function N(s){T(()=>{if(y.value)s();else{const t=e.watch(y,()=>{y.value&&(s(),t())})}})}const _=e.computed(()=>y.value&&n.status.wallet.is("CONNECTED"));function v(s){N(()=>{if(_.value)s();else{const t=e.watch(_,()=>{_.value&&(s(),t())})}})}const C=e.computed(()=>y.value&&n.status.contracts.is("INITIALIZED"));function U(s){N(()=>{if(C.value)s();else{const t=e.watch(C,()=>{C.value&&(s(),t())})}})}class j{constructor(t){this.contract=t,this.sources={},this.lastUpdateBlock=0}_buildSourceName(t,a){return`${t}:${a.toString}`}async update(){const t=await n.provider.getBlockNumber();if(this.lastUpdateBlock<t){for(const[a,o]of Object.entries(this.sources)){const l=o.state.value;o.state.value=await this.contract[o.name](...o.args);for(const m of o.callbacks)m(o.state.value,l)}this.lastUpdateBlock=t}}add(t,a,o=null){const l=this._buildSourceName(t,a);return Object.keys(this.sources).includes(l)||(this.sources[l]={name:t,args:a,state:e.ref(null),callbacks:[]},this.contract[t](...a).then(m=>{this.sources[l].state.value=m})),o&&(this.sources[l].callbacks.includes(o)||this.sources[l].callbacks.push(o)),this.sources[l].state}remove(t,a,o){const l=this._buildSourceName(t,a);Object.keys(this.sources).includes(l)||(this.sources[l].callbacks=this.sources[l].callbacks.filter(m=>m!==o))}getRef(t,a){const o=this._buildSourceName(t,a);return this.sources[o].state}}function x(s,t,a,o=null){Object.keys(n._chainWatchers).includes(s.address)||(n._chainWatchers[s.address]=new j(s)),n._chainWatchers[s.address].add(t,a,o)}function M(s,t,a,o){return x(s,t,a,o),e.onUnmounted(()=>n._chainWatchers[s.address].remove(t,a,o)),n._chainWatchers[s.address].remove.bind(n._chainWatchers[s.address],t,a,o)}function A(s,t,a){return x(s,t,a,null),n._chainWatchers[s.address].getRef(t,a)}async function R(s=!1){if(y){if(n.status.wallet.is("DISCONNECTED"))try{const t=await n.provider.getSigner();await t.getAddress(),n.signer=t,n.status.wallet.set("CONNECTED")}catch{if(s===!0)n.status.wallet.set("DISCONNECTED");else try{n.status.wallet.set("REQUESTED"),await n.provider.send("eth_requestAccounts",[]);const a=await n.provider.getSigner();await a.getAddress(),n.signer=a,n.status.wallet.set("CONNECTED")}catch(a){console.log(a),a.code===4001?n.status.wallet.set("REFUSED"):n.status.wallet.set("ERROR")}}}else n.status.wallet.set("NOPROVIDER")}function B(){n.signer=null,n.status.wallet.set("DISCONNECTED")}const F={config:{},defaults:{},networks:{},status:{add:(s,t)=>{if(Object.keys(n.status).includes(s))throw`You cannot add a new status called '${s}', this name is either reserved by Vuethers or already existing.`;n.status[s]=new P(s,t)}},_chainWatchers:{}},G=e.ref({safe:!1,provider:null,signer:null,contracts:{_contracts:[],add:(s,t,a)=>{if(Object.keys(n.contracts).includes(s))throw`You cannot add a new contract called '${s}', this name is either reserved by Vuethers or already existing.`;let o=null;if(_.value)o=new k.ethers.Contract(t,a,n.signer);else if(y.value)o=new k.ethers.Contract(t,a,n.provider);else throw"A contract is trying to be added from dapp.contract.add() but neither provider nor signer are available.";n.contracts[s]=e.markRaw(o),n.contracts[s].watch=M.bind(null,n.contracts[s]),n.contracts[s].watchRef=A.bind(null,n.contracts[s]),n.contracts._contracts.push(s),e.watch(()=>n.signer,()=>{console.log("refresh signer of "+s);try{console.log(n.signer),console.log(n.contract[s]),n.contracts[s].connect(n.signer),console.log(n.contract[s])}catch(l){console.log("error while refreshing"),console.log(l),n.contracts[s].connect(n.provider)}})},getAll:()=>{const s={};for(const t of n.contracts._contracts)s[t]=n.contracts[t];return s}}}),n=new W(F,G),V={networks:[{name:"Ethereum Mainnet",displayName:"Ethereum",chainId:1,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/ethereum.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://etherscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.infura.io/v3/"},{name:"Ropsten",displayName:"Ropsten (Ethereum Testnet)",chainId:3,type:"testnet",icon:null,currency:{name:"Ropsten Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://ropsten.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://ropsten.infura.io/v3/"},{name:"Rinkeby",displayName:"Rinkeby (Ethereum Testnet)",chainId:4,type:"testnet",icon:null,currency:{name:"Rinkeby Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://rinkeby.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://rinkeby.infura.io/v3/"},{name:"G\xF6rli",displayName:"G\xF6rli (Ethereum Testnet)",chainId:5,type:"testnet",icon:null,currency:{name:"G\xF6rli Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://goerli.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://goerli.infura.io/v3/"},{name:"Optimism",chainId:10,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/optimism.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://optimistic.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.optimism.io/"},{name:"Cronos Mainnet Beta",displayName:"Cronos",chainId:25,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/cronos.svg",currency:{name:"Cronos",symbol:"CRO",decimals:18},contracts:null,explorer:{name:"Cronos Explorer",url:"https://cronos.org/explorer",standard:"EIP3091"},defaultRPC:"https://evm.cronos.org"},{name:"Telos EVM Mainnet",displayName:"Telos",chainId:40,type:"mainnet",icon:null,currency:{name:"Telos",symbol:"TLOS",decimals:18},contracts:null,explorer:{name:"Teloscan",url:"https://teloscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.telos.net/evm"},{name:"Binance Smart Chain Mainnet",displayName:"BSC",chainId:56,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/bsc.svg",currency:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18},contracts:null,explorer:{name:"Bscscan",url:"https://bscscan.com/",standard:"EIP3091"},defaultRPC:"https://bsc-dataseed1.binance.org/"},{name:"Gnosis Chain",displayName:"Gnosis",chainId:100,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/gnosis.svg",currency:{name:"xDAI",symbol:"xDAI",decimals:18},contracts:null,explorer:{name:"Blockscout",url:"https://blockscout.com/xdai/mainnet/",standard:"EIP3091"},defaultRPC:"https://rpc.gnosischain.com"},{name:"Fuse Mainnet",displayName:"Fuse",chainId:122,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/fuse.svg",currency:{name:"Fuse",symbol:"FUSE",decimals:18},contracts:null,explorer:{name:"Fuse Explorer",url:"https://explorer.fuse.io/",standard:"EIP3091"},defaultRPC:"https://rpc.fuse.io"},{name:"Huobi ECO Chain Mainnet",displayName:"HECO",chainId:128,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/heco.svg",currency:{name:"Huobi ECO Chain Native Token",symbol:"HT",decimals:18},contracts:null,explorer:{name:"Hecoinfo",url:"https://hecoinfo.com",standard:"EIP3091"},defaultRPC:"https://http-mainnet.hecochain.com"},{name:"Polygon Mainnet",displayName:"Polygon",chainId:137,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/polygon.svg",currency:{name:"MATIC",symbol:"MATIC",decimals:18},contracts:null,explorer:{name:"Polygonscan",url:"https://polygonscan.com/",standard:"EIP3091"},defaultRPC:"https://polygon-rpc.com/"},{name:"Fantom Opera",displayName:"Fantom",chainId:250,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/fantom.svg",currency:{name:"Fantom",symbol:"FTM",decimals:18},contracts:null,explorer:{name:"Ftmscan",url:"https://ftmscan.com/",standard:"EIP3091"},defaultRPC:"https://rpc.ftm.tools"},{name:"Metis Andromeda Mainnet",displayName:"Metis",chainId:1088,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/metis.svg",currency:{name:"Metis",symbol:"METIS",decimals:18},contracts:null,explorer:{name:"Metis Explorer",url:"https://andromeda-explorer.metis.io",standard:"EIP3091"},defaultRPC:"https://andromeda.metis.io/?owner=1088"},{name:"Moonbeam",chainId:1284,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/moonbeam.svg",currency:{name:"Glimmer",symbol:"GLMR",decimals:18},contracts:null,explorer:{name:"Moonscan",url:"https://moonbeam.moonscan.io",standard:"EIP3091"},defaultRPC:"https://rpc.api.moonbeam.network"},{name:"Moonriver",chainId:1285,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/moonriver.svg",currency:{name:"Moonriver",symbol:"MOVR",decimals:18},contracts:null,explorer:{name:"Moonscan",url:"https://moonriver.moonscan.io/",standard:"EIP3091"},defaultRPC:"https://rpc.api.moonriver.moonbeam.network"},{name:"Klaytn Mainnet Cypress",displayName:"Klaytn",chainId:8217,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/klaytn.svg",currency:{name:"KLAY",symbol:"KLAY",decimals:18},contracts:null,explorer:{name:"Klaytnscope",url:"https://scope.klaytn.com",standard:"EIP3091"},defaultRPC:"https://public-node-api.klaytnapi.com/v1/cypress"},{name:"Hardhat",displayName:"Hardhat",chainId:31337,type:"testnet",icon:null,currency:{name:"GoChain Coin",symbol:"GO",decimals:18},contracts:null,explorer:null,defaultRPC:"http://127.0.0.1:8545/"},{name:"Arbitrum One",displayName:"Arbitrum",chainId:42161,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/arbitrum.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Arbiscan",url:"https://arbiscan.io/",standard:"EIP3091"},defaultRPC:"https://arbitrum-mainnet.infura.io/v3/"},{name:"Celo Mainnet",displayName:"Celo",chainId:42220,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/celo.svg",currency:{name:"CELO",symbol:"CELO",decimals:18},contracts:null,explorer:{name:"Celo Explorer",url:"https://explorer.celo.org/",standard:"EIP3091"},defaultRPC:"https://forno.celo.org"},{name:"Emerald Paratime Mainnet",displayName:"Emerald",chainId:42262,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/emerald.svg",currency:{name:"Emerald Rose",symbol:"ROSE",decimals:18},contracts:null,explorer:{name:"Emerald Explorer",url:"https://explorer.emerald.oasis.dev/",standard:"EIP3091"},defaultRPC:"https://emerald.oasis.dev"},{name:"Avalanche C-Chain",displayName:"Avalanche",chainId:43114,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/avalanche.svg",currency:{name:"Avalanche",symbol:"AVAX",decimals:18},contracts:null,explorer:{name:"Snowtrace",url:"https://snowtrace.io/",standard:"EIP3091"},defaultRPC:"https://api.avax.network/ext/bc/C/rpc"},{name:"Aurora Mainnet",displayName:"Aurora",chainId:1313161554,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/aurora.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Aurorascan",url:"https://aurorascan.dev",standard:"EIP3091"},defaultRPC:"https://mainnet.aurora.dev"},{name:"Harmony Mainnet Shard 0",displayName:"Harmony",chainId:16666e5,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/harmony.svg",currency:{name:"ONE",symbol:"ONE",decimals:18},contracts:null,explorer:{name:"Harmony Block Explorer",url:"https://explorer.harmony.one",standard:"EIP3091"},defaultRPC:"https://api.harmony.one"}],defaults:{networks:{icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/unknown.svg"}}};async function H(){const s=await n.provider.getNetwork().then(t=>t.chainId);return n.config.networks.find(t=>t.chainId===s)}async function L(s=null){if(s){console.log("AAA");const t=S({...V},{...s});t.networks=[];for(let a of s.networks)if(a.chainId){const o=V.networks.find(l=>l.chainId===a.chainId);a=S({...o},{...a}),a.displayName||(a.displayName=a.name),t.networks.push(a)}t.networks.getCurrent=H,n.config=t}}async function K(){n.status.add("network",["DISCONNECTED","WRONG","UNKNOWN","ERROR","CONNECTED"]),n.status.add("wallet",["DISCONNECTED","REQUESTED","REFUSED","ERROR","NOPROVIDER","CONNECTED"]),n.status.add("contracts",["WAITING","ERROR","INITIALIZED"]),n.status.wallet.watch(["REFUSED","ERROR","NOPROVIDER"],()=>{setTimeout(()=>{n.status.wallet.set("DISCONNECTED")},5e3)})}async function q(){const s=e.markRaw(new k.ethers.providers.Web3Provider(window.ethereum,"any"));if(s){const t=await s.getNetwork().then(o=>o.chainId);let a=n.config.networks.find(o=>o.chainId===t);console.log("DEBUG NETWORK"),console.log(t),console.log(a),a?(console.log("already connected"),n.provider=s,n.status.network.set("CONNECTED")):(a=V.networks.find(o=>o.chainId===t),a?(n.provider=e.markRaw(new k.ethers.providers.JsonRpcProvider(knownNetwork.defaultRPC)),n.status.network.set("WRONG")):(n.provider=s,n.status.network.set("UNKNOWN"))),s.on("network",(o,l)=>{l&&l!==o&&window.location.reload()}),s.on("error",()=>{console.log("Provider error !"),n.status.network.set("ERROR")}),a&&(console.log("Default polling interval = "+n.provider.pollingInterval),n.provider.pollingInterval=a.pollingInterval)}else{const t=n.config.networks.find(a=>a.default===!0);network?n.provider=e.markRaw(new k.ethers.providers.JsonRpcProvider(t.defaultRPC)):n.status.network.set("DISCONNECTED")}}async function Y(){n.status.network.is("DISCONNECTED")||await R(!0)}async function Q(){N(async function(){const s=await n.config.networks.getCurrent();if(s){for(const[t,a]of Object.entries(s.contracts))n.contracts.add(t,a.address,a.abi);n.status.contracts.set("INITIALIZED")}else n.status.contracts.set("NOCONFIG")})}async function Z(){n.status.network.is("DISCONNECTED")||n.provider.on("block",async function(s){console.log("new block"),console.log(s);const t=await n.provider.getBlockWithTransactions(s);for(const a of t.transactions)Object.keys(n._chainWatchers).includes(a.to)&&(console.log("call update of = "+a.to),await n._chainWatchers[a.to].update()),n.status.wallet.is("CONNECTED")&&(await n.signer.getAddress(),a.from);console.log(t)})}const z={class:"ConnectWalletButton"},J={key:1,disabled:""},X={key:2,disabled:""},ee={key:3,disabled:""},te={key:4,disabled:""},ne={__name:"ConnectWalletButton",setup(s){return(t,a)=>(e.openBlock(),e.createElementBlock("div",z,[e.unref(n).status.wallet.is("DISCONNECTED")?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:a[0]||(a[0]=(...o)=>e.unref(R)&&e.unref(R)(...o))},"Connect Wallet")):e.unref(n).status.wallet.is("REQUESTED")?(e.openBlock(),e.createElementBlock("button",J,"Connection requested...")):e.unref(n).status.wallet.is("REFUSED")?(e.openBlock(),e.createElementBlock("button",X,"Connection refused!")):e.unref(n).status.wallet.is("ERROR")?(e.openBlock(),e.createElementBlock("button",ee,"Connection error!")):e.unref(n).status.network.is("WRONG")?(e.openBlock(),e.createElementBlock("button",te,"Wrong network! ("+e.toDisplayString(e.unref(n).networks.current.displayName)+")",1)):e.unref(n).status.wallet.is("CONNECTED")?(e.openBlock(),e.createElementBlock("button",{key:5,onClick:a[1]||(a[1]=(...o)=>e.unref(B)&&e.unref(B)(...o))},"Disconnect")):e.createCommentVNode("",!0)]))}},ae=e.createTextVNode("Functions : "),se=["onClick"],oe=e.createElementVNode("br",null,null,-1),re={key:0},le=e.createElementVNode("small",null,"Inputs :",-1),ce=["onUpdate:modelValue","type","placeholder"],ie={key:0},de=["onUpdate:modelValue"],ue=["onUpdate:modelValue"],me=["value"],he={key:1},pe=e.createElementVNode("small",null,"Outputs :",-1),fe=["onUpdate:modelValue","placeholder"],be={key:2},ye=e.createTextVNode(" Events : "),ke=e.createElementVNode("p",null,"Logs:",-1),we={__name:"ContractInteractor",props:{contractName:{type:String,required:!0}},setup(s){const t=s;async function a(r,c,i={}){let b,u,p=null;return c?Array.isArray(c)?p=r(...c,i):p=r(c,i):p=r(i),await p.then(E=>b=E).catch(E=>u=E),{data:b,error:u}}async function o(r){const c=[];for(const p of f.value[r].inputs)c.push(p.value);const i={};f.value[r].payable&&f.value[r].tx.value.value!==""&&(console.log(f.value[r].tx.value.value),i.value=k.ethers.utils.parseUnits(f.value[r].tx.value.value,f.value[r].tx.value.unit));const{data:b,error:u}=await a(w.functions[r],c,i);if(u)f.value[r].error=u.reason;else for(let p=0;p<b.length;p++)f.value[r].outputs[p].value=b[p]}async function l(r){I.value[r.event].count+=1;let c=`Block ${r.blockNumber} -> {`;for(const i of I.value[r.event].inputs)c+=`${i.name}:${r.args[i.name]}, `;c=c.substring(0,c.length-2)+"}",I.value[r.event].logs.push(c)}function m(r){return r.includes("int")?"number":"text"}function h(r){return`${r.name&&r.name!=="null"?r.name:"unnamed"} (${r.type})`}function O(r){const c=[];return c.push(r.mutability),r.payable&&c.push("payable"),c.join(", ")}const w=n.contracts[t.contractName];let $=e.ref("");const Oe=["wei","gwei","ether"],I=e.ref({}),f=e.ref({});return N(async function(){w.connect(n.provider);try{$.value=await w.owner()}catch{}for(const r of Object.values(w.interface.functions)){f.value[r.name]={inputs:[],outputs:[],error:null,payable:r.payable,mutability:r.stateMutability==="view"||r.stateMutability==="pure"?"read":"write",tx:{value:{value:"",unit:"wei"}}};for(let c=0;c<r.inputs.length;c++)f.value[r.name].inputs[c]={name:r.inputs[c].name,type:r.inputs[c].type,value:""};for(let c=0;c<r.outputs.length;c++)f.value[r.name].outputs[c]={name:r.outputs[c].name,type:r.outputs[c].type,value:""}}for(const r of Object.values(w.interface.events))I.value[r.name]={count:0,logs:[],inputs:r.inputs},w.on(r,l)}),(r,c)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("p",null,"Interact with '"+e.toDisplayString(s.contractName)+"' contract :",1),e.createElementVNode("ul",null,[e.createElementVNode("li",null,"Address : "+e.toDisplayString(e.unref(w).address),1),e.createElementVNode("li",null,"Owner : "+e.toDisplayString($.value),1),e.createElementVNode("li",null,[ae,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value,(i,b)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("button",{onClick:u=>o(b)},e.toDisplayString(b),9,se),e.createElementVNode("small",null,"("+e.toDisplayString(O(i))+")",1),oe,Object.keys(i.inputs).length>0||i.payable?(e.openBlock(),e.createElementBlock("div",re,[le,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.inputs,(u,p)=>(e.openBlock(),e.createElementBlock("li",null,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":E=>u.value=E,type:m(u.type),placeholder:h(u)},null,8,ce),[[e.vModelDynamic,u.value]])]))),256)),i.payable?(e.openBlock(),e.createElementBlock("li",ie,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":u=>i.tx.value.value=u,type:"text",placeholder:"TX value"},null,8,de),[[e.vModelText,i.tx.value.value]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":u=>i.tx.value.unit=u},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(Oe,u=>e.createElementVNode("option",{value:u},e.toDisplayString(u),9,me)),64))],8,ue),[[e.vModelSelect,i.tx.value.unit]])])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),Object.keys(i.outputs).length>0?(e.openBlock(),e.createElementBlock("div",he,[pe,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.outputs,(u,p)=>(e.openBlock(),e.createElementBlock("li",null,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":E=>u.value=E,type:"text",placeholder:h(u),disabled:""},null,8,fe),[[e.vModelText,u.value]])]))),256))])])):e.createCommentVNode("",!0),i.error?(e.openBlock(),e.createElementBlock("p",be,e.toDisplayString(i.error),1)):e.createCommentVNode("",!0)]))),256))])]),e.createElementVNode("li",null,[ye,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.value,(i,b)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("h3",null,e.toDisplayString(b),1),e.createElementVNode("p",null,"Count : "+e.toDisplayString(i.count),1),ke,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.logs,u=>(e.openBlock(),e.createElementBlock("li",null,e.toDisplayString(u),1))),256))])]))),256))])])])],64))}},Ee={class:"SelectNetworkDropdown"},ge={key:0,selected:""},_e=["src","alt"],Ne=["onClick"],Ce=["src","alt"],Se={__name:"SelectNetworkDropdown",setup(s){async function t(l){const m=n.networks.available.find(h=>h.chainId===parseInt(l));if(m){l=k.ethers.utils.hexlify(parseInt(l)).toString(),l=k.ethers.utils.hexValue(l);try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:l}]})}catch(O){O.code===4902&&await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:l,rpcUrls:[m.defaultRPC],chainName:m.name,nativeCurrency:{name:m.currency.symbol,symbol:m.currency.symbol,decimals:m.currency.decimals},blockExplorerUrls:m.explorer&&m.explorer.url!==""?[m.explorer.url]:null}]})}const h=await n.provider.getNetwork();n.networks.current.chainId!==h.chainId&&window.location.reload()}}function a(){o.value=!o.value}let o=e.ref(!1);return(l,m)=>(e.openBlock(),e.createElementBlock("div",Ee,[e.createElementVNode("ul",{onClick:a},[e.unref(n).networks.current?(e.openBlock(),e.createElementBlock("li",ge,[e.createElementVNode("img",{width:"40",src:e.unref(n).networks.current.icon?e.unref(n).networks.current.icon:e.unref(n).defaults.networks.icon,alt:e.unref(n).networks.current.name+" logo"},null,8,_e),e.createElementVNode("p",null,e.toDisplayString(e.unref(n).networks.current.displayName),1)])):e.createCommentVNode("",!0),o.value?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(n).networks.available,h=>(e.openBlock(),e.createElementBlock("li",{key:h.chainId,onClick:O=>t(h.chainId)},[e.createElementVNode("img",{width:"40",src:h.icon?h.icon:e.unref(n).defaults.networks.icon,alt:h.name+" logo"},null,8,Ce),e.createElementVNode("p",null,e.toDisplayString(h.displayName),1)],8,Ne))),128)):e.createCommentVNode("",!0)])]))}},Be="",Ie=((s,t)=>{const a=s.__vccOpts||s;for(const[o,l]of t)a[o]=l;return a})({__name:"DebugBar",setup(s){return(t,a)=>(e.openBlock(),e.createElementBlock("ul",null,[e.createElementVNode("li",null,"DApp safe : "+e.toDisplayString(e.unref(g)),1),e.createElementVNode("li",null,"Network safe : "+e.toDisplayString(e.unref(y)),1),e.createElementVNode("li",null,"Wallet safe : "+e.toDisplayString(e.unref(_)),1),e.createElementVNode("li",null,"Contracts safe : "+e.toDisplayString(e.unref(C)),1)]))}},[["__scopeId","data-v-7c2381f5"]]);function D(s){return s&&typeof s=="object"&&!Array.isArray(s)}function S(s,...t){if(!t.length)return s;const a=t.shift();if(D(s)&&D(a))for(const o in a)D(a[o])?(s[o]||Object.assign(s,{[o]:{}}),S(s[o],a[o])):Object.assign(s,{[o]:a[o]});return S(s,...t)}function Re(s){const t=s.split(" ");for(let a=0;a<t.length;a++)t[a]=t[a][0].toUpperCase()+t[a].substring(1);return t.join(" ")}async function De(s,t){s.config.globalProperties.dapp=n,await L(t),await K(),await q(),await Y(),await Q(),await Z(),n.safe=!0}return d.ConnectWalletButton=ne,d.ContractInteractor=we,d.DebugBar=Ie,d.SelectNetworkDropdown=Se,d.Status=P,d.areContractsSafe=C,d.capitalizeWords=Re,d.connectWallet=R,d.dapp=n,d.deepMerge=S,d.disconnectWallet=B,d.initVuethers=De,d.isDAppSafe=g,d.isNetworkSafe=y,d.isObject=D,d.isWalletSafe=_,d.onContractsSafe=U,d.onDAppSafe=T,d.onNetworkSafe=N,d.onWalletSafe=v,d.watchChain=M,d.watchChainRef=A,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),d}({},Vue,Ethers);
