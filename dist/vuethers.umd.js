(function(m,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("pinia"),require("ethers")):typeof define=="function"&&define.amd?define(["exports","vue","pinia","ethers"],e):(m=typeof globalThis<"u"?globalThis:m||self,e(m.vuethers={},m.Vue,m.Pinia,m.Ethers))})(this,function(m,e,y,w){"use strict";const x=y.defineStore("wallet-status",()=>{let r=e.ref("disconnected");function n(){r.value="disconnected"}function s(){r.value="connection-requested",console.log("connection requested called"),console.log(r.value)}function t(){r.value="connection-refused",setTimeout(n,5e3)}function d(){r.value="connection-error",setTimeout(n,5e3)}function a(){r.value="connected"}function o(){r.value="wrong-network"}return{status:r,setToDisconnected:n,setToConnectionRequested:s,setToConnectionRefused:t,setToConnected:a,setToWrongNetwork:o,setToError:d}}),b=y.defineStore("dapp",()=>{const r=e.ref(new w.ethers.providers.Web3Provider(window.ethereum,"any"));let n=e.ref(r.value.getSigner()),s={},t={},d={};const a={wallet:x()};return{provider:r,signer:n,networks:s,contracts:t,config:d,status:a}}),_={networks:[{name:"Ethereum Mainnet",displayName:"Ethereum",chainId:1,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/ethereum.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://etherscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.infura.io/v3/"},{name:"Ropsten",displayName:"Ropsten (Ethereum Testnet)",chainId:3,type:"testnet",icon:null,currency:{name:"Ropsten Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://ropsten.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://ropsten.infura.io/v3/"},{name:"Rinkeby",displayName:"Rinkeby (Ethereum Testnet)",chainId:4,type:"testnet",icon:null,currency:{name:"Rinkeby Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://rinkeby.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://rinkeby.infura.io/v3/"},{name:"G\xF6rli",displayName:"G\xF6rli (Ethereum Testnet)",chainId:5,type:"testnet",icon:null,currency:{name:"G\xF6rli Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://goerli.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://goerli.infura.io/v3/"},{name:"Optimism",chainId:10,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/optimism.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://optimistic.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.optimism.io/"},{name:"Cronos Mainnet Beta",displayName:"Cronos",chainId:25,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/cronos.svg",currency:{name:"Cronos",symbol:"CRO",decimals:18},contracts:null,explorer:{name:"Cronos Explorer",url:"https://cronos.org/explorer",standard:"EIP3091"},defaultRPC:"https://evm.cronos.org"},{name:"Telos EVM Mainnet",displayName:"Telos",chainId:40,type:"mainnet",icon:null,currency:{name:"Telos",symbol:"TLOS",decimals:18},contracts:null,explorer:{name:"Teloscan",url:"https://teloscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.telos.net/evm"},{name:"Binance Smart Chain Mainnet",displayName:"BSC",chainId:56,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/bsc.svg",currency:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18},contracts:null,explorer:{name:"Bscscan",url:"https://bscscan.com/",standard:"EIP3091"},defaultRPC:"https://bsc-dataseed1.binance.org/"},{name:"Gnosis Chain",displayName:"Gnosis",chainId:100,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/gnosis.svg",currency:{name:"xDAI",symbol:"xDAI",decimals:18},contracts:null,explorer:{name:"Blockscout",url:"https://blockscout.com/xdai/mainnet/",standard:"EIP3091"},defaultRPC:"https://rpc.gnosischain.com"},{name:"Fuse Mainnet",displayName:"Fuse",chainId:122,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/fuse.svg",currency:{name:"Fuse",symbol:"FUSE",decimals:18},contracts:null,explorer:{name:"Fuse Explorer",url:"https://explorer.fuse.io/",standard:"EIP3091"},defaultRPC:"https://rpc.fuse.io"},{name:"Huobi ECO Chain Mainnet",displayName:"HECO",chainId:128,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/heco.svg",currency:{name:"Huobi ECO Chain Native Token",symbol:"HT",decimals:18},contracts:null,explorer:{name:"Hecoinfo",url:"https://hecoinfo.com",standard:"EIP3091"},defaultRPC:"https://http-mainnet.hecochain.com"},{name:"Polygon Mainnet",displayName:"Polygon",chainId:137,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/polygon.svg",currency:{name:"MATIC",symbol:"MATIC",decimals:18},contracts:null,explorer:{name:"Polygonscan",url:"https://polygonscan.com/",standard:"EIP3091"},defaultRPC:"https://polygon-rpc.com/"},{name:"Fantom Opera",displayName:"Fantom",chainId:250,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/fantom.svg",currency:{name:"Fantom",symbol:"FTM",decimals:18},contracts:null,explorer:{name:"Ftmscan",url:"https://ftmscan.com/",standard:"EIP3091"},defaultRPC:"https://rpc.ftm.tools"},{name:"Metis Andromeda Mainnet",displayName:"Metis",chainId:1088,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/metis.svg",currency:{name:"Metis",symbol:"METIS",decimals:18},contracts:null,explorer:{name:"Metis Explorer",url:"https://andromeda-explorer.metis.io",standard:"EIP3091"},defaultRPC:"https://andromeda.metis.io/?owner=1088"},{name:"Moonbeam",chainId:1284,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/moonbeam.svg",currency:{name:"Glimmer",symbol:"GLMR",decimals:18},contracts:null,explorer:{name:"Moonscan",url:"https://moonbeam.moonscan.io",standard:"EIP3091"},defaultRPC:"https://rpc.api.moonbeam.network"},{name:"Moonriver",chainId:1285,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/moonriver.svg",currency:{name:"Moonriver",symbol:"MOVR",decimals:18},contracts:null,explorer:{name:"Moonscan",url:"https://moonriver.moonscan.io/",standard:"EIP3091"},defaultRPC:"https://rpc.api.moonriver.moonbeam.network"},{name:"Klaytn Mainnet Cypress",displayName:"Klaytn",chainId:8217,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/klaytn.svg",currency:{name:"KLAY",symbol:"KLAY",decimals:18},contracts:null,explorer:{name:"Klaytnscope",url:"https://scope.klaytn.com",standard:"EIP3091"},defaultRPC:"https://public-node-api.klaytnapi.com/v1/cypress"},{name:"Hardhat",displayName:"Hardhat",chainId:31337,type:"testnet",icon:null,currency:{name:"GoChain Coin",symbol:"GO",decimals:18},contracts:null,explorer:null,defaultRPC:"http://127.0.0.1:8545/"},{name:"Arbitrum One",displayName:"Arbitrum",chainId:42161,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/arbitrum.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Arbiscan",url:"https://arbiscan.io/",standard:"EIP3091"},defaultRPC:"https://arbitrum-mainnet.infura.io/v3/"},{name:"Celo Mainnet",displayName:"Celo",chainId:42220,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/celo.svg",currency:{name:"CELO",symbol:"CELO",decimals:18},contracts:null,explorer:{name:"Celo Explorer",url:"https://explorer.celo.org/",standard:"EIP3091"},defaultRPC:"https://forno.celo.org"},{name:"Emerald Paratime Mainnet",displayName:"Emerald",chainId:42262,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/emerald.svg",currency:{name:"Emerald Rose",symbol:"ROSE",decimals:18},contracts:null,explorer:{name:"Emerald Explorer",url:"https://explorer.emerald.oasis.dev/",standard:"EIP3091"},defaultRPC:"https://emerald.oasis.dev"},{name:"Avalanche C-Chain",displayName:"Avalanche",chainId:43114,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/avalanche.svg",currency:{name:"Avalanche",symbol:"AVAX",decimals:18},contracts:null,explorer:{name:"Snowtrace",url:"https://snowtrace.io/",standard:"EIP3091"},defaultRPC:"https://api.avax.network/ext/bc/C/rpc"},{name:"Aurora Mainnet",displayName:"Aurora",chainId:1313161554,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/aurora.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Aurorascan",url:"https://aurorascan.dev",standard:"EIP3091"},defaultRPC:"https://mainnet.aurora.dev"},{name:"Harmony Mainnet Shard 0",displayName:"Harmony",chainId:16666e5,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/harmony.svg",currency:{name:"ONE",symbol:"ONE",decimals:18},contracts:null,explorer:{name:"Harmony Block Explorer",url:"https://explorer.harmony.one",standard:"EIP3091"},defaultRPC:"https://api.harmony.one"}],defaults:{networks:{icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/unknown.svg"}}},P={class:"ConnectWalletButton"},T={key:1,disabled:""},R={key:2,disabled:""},S={key:3,disabled:""},V={key:4,disabled:""},M={__name:"_ConnectWalletButton",async setup(r){let n,s;const t=b();async function d(){try{return await t.signer.getAddress(),t.status.wallet.setToConnected(),!0}catch{return!1}}[n,s]=e.withAsyncContext(()=>d()),await n,s();async function a(){if(!await d())try{t.status.wallet.setToConnectionRequested(),await t.provider.send("eth_requestAccounts",[]),t.signer=t.provider.getSigner(),t.status.wallet.setToConnected();for(const[l,u]of Object.entries(t.contracts))t.contracts[l]=await u.connect(t.signer)}catch(l){l.code===4001?t.status.wallet.setToConnectionRefused():t.status.wallet.setToError()}}function o(){t.status.wallet.setToDisconnected()}return(l,u)=>(e.openBlock(),e.createElementBlock("div",P,[e.unref(t).status.wallet.status=="disconnected"?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:a},"Connect Wallet")):e.unref(t).status.wallet.status=="connection-requested"?(e.openBlock(),e.createElementBlock("button",T,"Connection requested...")):e.unref(t).status.wallet.status=="connection-refused"?(e.openBlock(),e.createElementBlock("button",R,"Connection refused!")):e.unref(t).status.wallet.status=="connection-error"?(e.openBlock(),e.createElementBlock("button",S,"Connection error!")):e.unref(t).status.wallet.status=="wrong-network"?(e.openBlock(),e.createElementBlock("button",V,"Wrong network! ("+e.toDisplayString(e.unref(t).networks.current.displayName)+")",1)):e.unref(t).status.wallet.status=="connected"?(e.openBlock(),e.createElementBlock("button",{key:5,onClick:o},"Disconnect")):e.createCommentVNode("",!0)]))}},A={__name:"ConnectWalletButton",setup(r){return(n,s)=>(e.openBlock(),e.createBlock(e.Suspense,null,{default:e.withCtx(()=>[e.createVNode(M)]),_:1}))}},D=e.createTextVNode("Functions : "),O=["onClick"],F=["onUpdate:modelValue","type","placeholder"],$=["onUpdate:modelValue","placeholder"],H={key:0},q=e.createTextVNode(" Events : "),L=e.createElementVNode("p",null,"Logs:",-1),W={__name:"_ContractInteractor",props:{contractName:{type:String,required:!0}},async setup(r){let n,s;const t=r,a=b().contracts[t.contractName],o=([n,s]=e.withAsyncContext(()=>a.owner()),n=await n,s(),n);async function l(c){try{const p=await a[c](...h.value[c].inputs);h.value[c].outputs[0]=p}catch(p){h.value[c].error=p.reason}}const u=a.interface.functions,h=e.ref({});for(const c of Object.values(u)){h.value[c.name]={inputs:[],outputs:[],error:null,properties:{constant:c.constant,payable:c.payable,inputs:c.inputs,outputs:c.outputs}};for(const p in c.inputs)h.value[c.name].inputs[p]="";for(const p in c.outputs)h.value[c.name].outputs[p]=""}async function Z(c){E.value[c.event].count+=1;let p=`Block ${c.blockNumber} -> {`;for(const i of B[c.eventSignature].inputs)p+=`${i.name}:${c.args[i.name]}, `;p=p.substring(0,p.length-2)+"}",E.value[c.event].logs.push(p)}const B=a.interface.events,E=e.ref({});for(const c of Object.values(B))E.value[c.name]={count:0,logs:[]},a.on(c,Z);function v(c){return c.includes("int")?"number":"text"}return(c,p)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("p",null,"Interact with '"+e.toDisplayString(r.contractName)+"' contract :",1),e.createElementVNode("ul",null,[e.createElementVNode("li",null,"Address : "+e.toDisplayString(e.unref(a).address),1),e.createElementVNode("li",null,"Owner : "+e.toDisplayString(e.unref(o)),1),e.createElementVNode("li",null,[D,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,(i,C)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("button",{onClick:f=>l(C)},e.toDisplayString(C)+" ("+e.toDisplayString(i.properties.constant?"read-only":"")+e.toDisplayString(i.properties.payable?", payable":"")+")",9,O),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.properties.inputs,(f,k)=>e.withDirectives((e.openBlock(),e.createElementBlock("input",{"onUpdate:modelValue":N=>i.inputs[k]=N,type:v(f.type),placeholder:f.type},null,8,F)),[[e.vModelDynamic,i.inputs[k]]])),256)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.properties.outputs,(f,k)=>e.withDirectives((e.openBlock(),e.createElementBlock("input",{"onUpdate:modelValue":N=>i.outputs[k]=N,type:"text",placeholder:f.type,disabled:""},null,8,$)),[[e.vModelText,i.outputs[k]]])),256)),i.error?(e.openBlock(),e.createElementBlock("p",H,e.toDisplayString(i.error),1)):e.createCommentVNode("",!0)]))),256))])]),e.createElementVNode("li",null,[q,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(E.value,(i,C)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("h3",null,e.toDisplayString(C),1),e.createElementVNode("p",null,"Count : "+e.toDisplayString(i.count),1),L,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.logs,f=>(e.openBlock(),e.createElementBlock("li",null,e.toDisplayString(f),1))),256))])]))),256))])])])],64))}},j={__name:"ContractInteractor",props:{contractName:{type:String,required:!0}},setup(r){const n=r;return(s,t)=>(e.openBlock(),e.createBlock(e.Suspense,null,{default:e.withCtx(()=>[e.createVNode(W,{contractName:n.contractName},null,8,["contractName"])]),_:1}))}},G={class:"SelectNetworkDropdown"},U={key:0,selected:""},K=["src","alt"],Y=["onClick"],z=["src","alt"],X={__name:"SelectNetworkDropdown",setup(r){const n=b();async function s(a){const o=n.networks.available.find(l=>l.chainId===parseInt(a));if(o){a=w.ethers.utils.hexlify(parseInt(a)).toString(),a=w.ethers.utils.hexValue(a);try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})}catch(u){u.code===4902&&(console.log("ADD CHAIN"),await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:a,rpcUrls:[o.defaultRPC],chainName:o.name,nativeCurrency:{name:o.currency.symbol,symbol:o.currency.symbol,decimals:o.currency.decimals},blockExplorerUrls:o.explorer&&o.explorer.url!==""?[o.explorer.url]:null}]}))}const l=await n.provider.getNetwork();n.networks.current.chainId!==l.chainId&&window.location.reload()}}let t=e.ref(!1);function d(){t.value=!t.value}return(a,o)=>(e.openBlock(),e.createElementBlock("div",G,[e.createElementVNode("ul",{onClick:d},[e.unref(n).networks.current?(e.openBlock(),e.createElementBlock("li",U,[e.createElementVNode("img",{width:"40",src:e.unref(n).networks.current.icon?e.unref(n).networks.current.icon:e.unref(n).defaults.networks.icon,alt:e.unref(n).networks.current.name+" logo"},null,8,K),e.createElementVNode("p",null,e.toDisplayString(e.unref(n).networks.current.displayName),1)])):e.createCommentVNode("",!0),t.value?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(n).networks.available,l=>(e.openBlock(),e.createElementBlock("li",{key:l.chainId,onClick:u=>s(l.chainId)},[e.createElementVNode("img",{width:"40",src:l.icon?l.icon:e.unref(n).defaults.networks.icon,alt:l.name+" logo"},null,8,z),e.createElementVNode("p",null,e.toDisplayString(l.displayName),1)],8,Y))),128)):e.createCommentVNode("",!0)])]))}};function J(r){const n=r.split(" ");for(let s=0;s<n.length;s++)n[s]=n[s][0].toUpperCase()+n[s].substring(1);return n.join(" ")}function I(r){return r&&typeof r=="object"&&!Array.isArray(r)}function g(r,...n){if(!n.length)return r;const s=n.shift();if(I(r)&&I(s))for(const t in s)I(s[t])?(r[t]||Object.assign(r,{[t]:{}}),g(r[t],s[t])):Object.assign(r,{[t]:s[t]});return g(r,...n)}async function Q(r,n){y.getActivePinia()||r.use(y.createPinia());const t=b();t.provider.on("network",(a,o)=>{o&&o!==a&&window.location.reload()});const d=await t.provider.getNetwork();if(n){const a=g({..._},{...n});a.networks=[];for(let o of n.networks)if(o.chainId){const l=_.networks.find(u=>u.chainId===o.chainId);o=g({...l},{...o}),o.displayName||(o.displayName=o.name),a.networks.push(o)}if(t.defaults=a.defaults,a.networks)if(t.networks={available:a.networks.filter(o=>o.chainId!==d.chainId),current:a.networks.find(o=>o.chainId===d.chainId),known:_.networks},t.networks.current&&t.networks.current.contracts){let o=!1;try{await t.signer.getAddress(),o=!0}catch{}for(const[l,u]of Object.entries(t.networks.current.contracts)){const h=new w.ethers.Contract(u.address,u.abi,o?t.signer:t.provider);t.contracts[l]=e.markRaw(h)}}else{const o=t.networks.known.find(l=>l.chainId===d.chainId);o?t.networks.current=o:(t.networks.current=d,t.networks.current.displayName=J(t.networks.current.name)),t.status.wallet.setToWrongNetwork()}}}m.ConnectWalletButton=A,m.ContractInteractor=j,m.SelectNetworkDropdown=X,m.initVuethers=Q,m.useDappStore=b,Object.defineProperties(m,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
