(function(c,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("ethers")):typeof define=="function"&&define.amd?define(["exports","vue","ethers"],e):(c=typeof globalThis<"u"?globalThis:c||self,e(c.vuethers={},c.Vue,c.Ethers))})(this,function(c,e,p){"use strict";var ve=Object.defineProperty;var je=(c,e,p)=>e in c?ve(c,e,{enumerable:!0,configurable:!0,writable:!0,value:p}):c[e]=p;var T=(c,e,p)=>(je(c,typeof e!="symbol"?e+"":e,p),p);class x{add(t,n){if(Object.keys(a.status).includes(t))throw`You cannot add a new status called '${t}', this name is either reserved by Vuethers or already existing.`;a.status[t]=new M(t,n)}}class M{constructor(t,n){if(this._name=t,this.states=[],!Array.isArray(n))throw`The 'states' parameter of a Status instance '${t}' must an array of strings. Got: ${n}`;for(const r of n)this.states.push(this._formatState(r));this._state=e.ref(this.states[0])}_formatState(t){return t.toString().toUpperCase()}_isStateValid(t){return!!this.states.includes(this._formatState(t))}_areStatesValid(t){for(const n of t)if(!this._isStateValid(n))return!1;return!0}get(){return this._state.value}getRef(){return this.state}set(t){if(console.log(`status ${this._name} set to ${t}`),t=this._formatState(t),!this._isStateValid(t))throw`The state given to the set() method of Status instance '${this._name}' must a value in ${this.states}. Got: ${t}`;this._state.value=t}is(t){if(!this._isStateValid(t))throw`The state given to the is() method of Status instance '${this._name}' must a value in ${this.states}. Got: ${t}`;return this.get()==this._formatState(t)}isIn(t){if(!this._areStatesValid(t))throw`The states given to the isIn() method of Status instance '${this._name}' must be an array with values in ${this.states}. Got: ${t}`;for(const n of t)if(this.is(n))return!0;return!1}watch(t,n){let r=`The states given to the watch() method of Status instance '${this._name}' must be a string or an array with values in ${this.states}. Got: ${t}`;if(Array.isArray(t)){if(!this._areStatesValid(t))throw r;e.watch(this._state,()=>{t.includes(this._state)&&n(this.get())})}else{if(!this._isStateValid(t))throw r;e.watch(this._state,()=>{t===this._state&&n(this.get())})}}watchAny(t){this.watch(this.states,t)}}class $ extends Object{constructor(t,n){return super(),super.constructor(),this._statelessSource=t,this._statefulSource=n,new Proxy(this,{get:function(r,o,d){if(Object.keys(r._statefulSource.value).includes(o))return r._statefulSource.value[o];if(Object.keys(r._statelessSource).includes(o))return r._statelessSource[o]},set:function(r,o,d){if(Object.keys(r._statefulSource.value).includes(o))return r._statefulSource.value[o]=d,!0;if(Object.keys(r._statelessSource).includes(o))return r._statelessSource[o]=d,!0;throw`MixedStore object doesn't have any property called '${o}'. New properties cannot be set / removed directly on a MixedStore object, please use add() and remove() methods of the store.`}})}add(t,n,r){if(t==="stateful")this._statefulSource.value[n]=r;else if(t==="stateless")this._statelessSource[n]=r;else throw`The the 'source' argument MixedStore.add() method must be 'stateful' or 'stateless'. Got: ${t}`}remove(t,n){if(t==="stateful")delete this._statefulSource.value[n];else if(t==="stateless")delete this._statelessSource[n];else throw`The the 'source' argument MixedStore.remove() method must be 'stateful' or 'stateless'. Got: ${t}`}}class B extends p.ethers.Contract{constructor(n,r,o,d){super(r,o,d);T(this,"watch",F.bind(null,this));T(this,"watchRef",L.bind(null,this));return this.name=n,this.abi=o,e.markRaw(this)}}class A{constructor(){this._contracts=[]}add(t,n,r){if(Object.keys(this).includes(t))throw`You cannot add a new contract called '${t}', this name is either reserved by Vuethers or already existing.`;if(w.value)this[t]=new B(t,n,r,a.signer);else if(y.value)this[t]=new B(t,n,r,a.provider);else throw"A contract is trying to be added from dapp.contract.add() but neither provider nor signer are available.";this._contracts.push(t)}remove(t){Object.keys(this).includes(t)&&(delete this[t],this._contracts=this._contracts.filter(n=>n!==t))}getAll(){const t={};for(const n of this._contracts)t[n]=this[n];return t}}const K={config:{},defaults:{},networks:{},status:new x,_chainWatchers:{}},q=e.ref({safe:!1,provider:null,signer:null,contracts:new A}),a=new $(K,q),V={networks:[{name:"Ethereum Mainnet",displayName:"Ethereum",chainId:1,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/ethereum.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://etherscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.infura.io/v3/"},{name:"Ropsten",displayName:"Ropsten (Ethereum Testnet)",chainId:3,type:"testnet",icon:null,currency:{name:"Ropsten Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://ropsten.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://ropsten.infura.io/v3/"},{name:"Rinkeby",displayName:"Rinkeby (Ethereum Testnet)",chainId:4,type:"testnet",icon:null,currency:{name:"Rinkeby Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://rinkeby.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://rinkeby.infura.io/v3/"},{name:"G\xF6rli",displayName:"G\xF6rli (Ethereum Testnet)",chainId:5,type:"testnet",icon:null,currency:{name:"G\xF6rli Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://goerli.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://goerli.infura.io/v3/"},{name:"Optimism",chainId:10,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/optimism.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://optimistic.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.optimism.io/"},{name:"Cronos Mainnet Beta",displayName:"Cronos",chainId:25,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/cronos.svg",currency:{name:"Cronos",symbol:"CRO",decimals:18},contracts:null,explorer:{name:"Cronos Explorer",url:"https://cronos.org/explorer",standard:"EIP3091"},defaultRPC:"https://evm.cronos.org"},{name:"Telos EVM Mainnet",displayName:"Telos",chainId:40,type:"mainnet",icon:null,currency:{name:"Telos",symbol:"TLOS",decimals:18},contracts:null,explorer:{name:"Teloscan",url:"https://teloscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.telos.net/evm"},{name:"Binance Smart Chain Mainnet",displayName:"BSC",chainId:56,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/bsc.svg",currency:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18},contracts:null,explorer:{name:"Bscscan",url:"https://bscscan.com/",standard:"EIP3091"},defaultRPC:"https://bsc-dataseed1.binance.org/"},{name:"Gnosis Chain",displayName:"Gnosis",chainId:100,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/gnosis.svg",currency:{name:"xDAI",symbol:"xDAI",decimals:18},contracts:null,explorer:{name:"Blockscout",url:"https://blockscout.com/xdai/mainnet/",standard:"EIP3091"},defaultRPC:"https://rpc.gnosischain.com"},{name:"Fuse Mainnet",displayName:"Fuse",chainId:122,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/fuse.svg",currency:{name:"Fuse",symbol:"FUSE",decimals:18},contracts:null,explorer:{name:"Fuse Explorer",url:"https://explorer.fuse.io/",standard:"EIP3091"},defaultRPC:"https://rpc.fuse.io"},{name:"Huobi ECO Chain Mainnet",displayName:"HECO",chainId:128,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/heco.svg",currency:{name:"Huobi ECO Chain Native Token",symbol:"HT",decimals:18},contracts:null,explorer:{name:"Hecoinfo",url:"https://hecoinfo.com",standard:"EIP3091"},defaultRPC:"https://http-mainnet.hecochain.com"},{name:"Polygon Mainnet",displayName:"Polygon",chainId:137,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/polygon.svg",currency:{name:"MATIC",symbol:"MATIC",decimals:18},contracts:null,explorer:{name:"Polygonscan",url:"https://polygonscan.com/",standard:"EIP3091"},defaultRPC:"https://polygon-rpc.com/"},{name:"Fantom Opera",displayName:"Fantom",chainId:250,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/fantom.svg",currency:{name:"Fantom",symbol:"FTM",decimals:18},contracts:null,explorer:{name:"Ftmscan",url:"https://ftmscan.com/",standard:"EIP3091"},defaultRPC:"https://rpc.ftm.tools"},{name:"Metis Andromeda Mainnet",displayName:"Metis",chainId:1088,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/metis.svg",currency:{name:"Metis",symbol:"METIS",decimals:18},contracts:null,explorer:{name:"Metis Explorer",url:"https://andromeda-explorer.metis.io",standard:"EIP3091"},defaultRPC:"https://andromeda.metis.io/?owner=1088"},{name:"Moonbeam",chainId:1284,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/moonbeam.svg",currency:{name:"Glimmer",symbol:"GLMR",decimals:18},contracts:null,explorer:{name:"Moonscan",url:"https://moonbeam.moonscan.io",standard:"EIP3091"},defaultRPC:"https://rpc.api.moonbeam.network"},{name:"Moonriver",chainId:1285,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/moonriver.svg",currency:{name:"Moonriver",symbol:"MOVR",decimals:18},contracts:null,explorer:{name:"Moonscan",url:"https://moonriver.moonscan.io/",standard:"EIP3091"},defaultRPC:"https://rpc.api.moonriver.moonbeam.network"},{name:"Klaytn Mainnet Cypress",displayName:"Klaytn",chainId:8217,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/klaytn.svg",currency:{name:"KLAY",symbol:"KLAY",decimals:18},contracts:null,explorer:{name:"Klaytnscope",url:"https://scope.klaytn.com",standard:"EIP3091"},defaultRPC:"https://public-node-api.klaytnapi.com/v1/cypress"},{name:"Hardhat",displayName:"Hardhat",chainId:31337,type:"testnet",icon:null,currency:{name:"GoChain Coin",symbol:"GO",decimals:18},contracts:null,explorer:null,defaultRPC:"http://127.0.0.1:8545/"},{name:"Arbitrum One",displayName:"Arbitrum",chainId:42161,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/arbitrum.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Arbiscan",url:"https://arbiscan.io/",standard:"EIP3091"},defaultRPC:"https://arbitrum-mainnet.infura.io/v3/"},{name:"Celo Mainnet",displayName:"Celo",chainId:42220,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/celo.svg",currency:{name:"CELO",symbol:"CELO",decimals:18},contracts:null,explorer:{name:"Celo Explorer",url:"https://explorer.celo.org/",standard:"EIP3091"},defaultRPC:"https://forno.celo.org"},{name:"Emerald Paratime Mainnet",displayName:"Emerald",chainId:42262,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/emerald.svg",currency:{name:"Emerald Rose",symbol:"ROSE",decimals:18},contracts:null,explorer:{name:"Emerald Explorer",url:"https://explorer.emerald.oasis.dev/",standard:"EIP3091"},defaultRPC:"https://emerald.oasis.dev"},{name:"Avalanche C-Chain",displayName:"Avalanche",chainId:43114,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/avalanche.svg",currency:{name:"Avalanche",symbol:"AVAX",decimals:18},contracts:null,explorer:{name:"Snowtrace",url:"https://snowtrace.io/",standard:"EIP3091"},defaultRPC:"https://api.avax.network/ext/bc/C/rpc"},{name:"Aurora Mainnet",displayName:"Aurora",chainId:1313161554,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/aurora.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Aurorascan",url:"https://aurorascan.dev",standard:"EIP3091"},defaultRPC:"https://mainnet.aurora.dev"},{name:"Harmony Mainnet Shard 0",displayName:"Harmony",chainId:16666e5,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/harmony.svg",currency:{name:"ONE",symbol:"ONE",decimals:18},contracts:null,explorer:{name:"Harmony Block Explorer",url:"https://explorer.harmony.one",standard:"EIP3091"},defaultRPC:"https://api.harmony.one"}],defaults:{networks:{icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/unknown.svg"}}};async function Y(){const s=await a.provider.getNetwork().then(t=>t.chainId);return a.config.networks.find(t=>t.chainId===s)}async function Q(s=null){if(s){console.log("AAA");const t=S({...V},{...s});t.networks=[];for(let n of s.networks)if(n.chainId){const r=V.networks.find(o=>o.chainId===n.chainId);n=S({...r},{...n}),n.displayName||(n.displayName=n.name),t.networks.push(n)}t.networks.getCurrent=Y,a.config=t}}async function Z(){a.status.add("network",["DISCONNECTED","WRONG","UNKNOWN","ERROR","CONNECTED"]),a.status.add("wallet",["DISCONNECTED","REQUESTED","REFUSED","ERROR","NOPROVIDER","CONNECTED"]),a.status.add("contracts",["WAITING","ERROR","NOPROVIDER","INITIALIZED"]),a.status.wallet.watch(["REFUSED","ERROR","NOPROVIDER"],()=>{setTimeout(()=>{a.status.wallet.set("DISCONNECTED")},5e3)})}async function z(){const s=e.markRaw(new G(window.ethereum,"any"));if(s){const t=await s.getNetwork().then(r=>r.chainId);let n=a.config.networks.find(r=>r.chainId===t);n?(a.provider=s,a.status.network.set("CONNECTED")):(n=V.networks.find(r=>r.chainId===t),n?(a.provider=e.markRaw(new p.ethers.providers.JsonRpcProvider(knownNetwork.defaultRPC)),a.status.network.set("WRONG")):(a.provider=s,a.status.network.set("UNKNOWN"))),s.on("network",(r,o)=>{o&&o!==r&&window.location.reload()}),s.on("error",()=>{console.log("Provider error !"),a.status.network.set("ERROR")}),n&&(a.provider.pollingInterval=n.pollingInterval)}else{const t=a.config.networks.find(n=>n.default===!0);network?a.provider=e.markRaw(new p.ethers.providers.JsonRpcProvider(t.defaultRPC)):a.status.network.set("DISCONNECTED")}}async function J(){a.status.network.is("DISCONNECTED")||await O(!0)}async function X(){R(async function(){const s=await a.config.networks.getCurrent();if(s){for(const[t,n]of Object.entries(s.contracts))a.contracts.add(t,n.address,n.abi);e.watch([w,y],(t,n)=>{if(console.log("Refresh contracts !"),t!==n)for(const r of a.contracts._contracts){const o=a.contracts[r].name,d=a.contracts[r].address,h=a.contracts[r].abi;a.contracts.remove(r);try{a.contracts.add(o,d,h)}catch(_){console.log(_),a.status.contracts.set("NOPROVIDER");break}}}),a.status.contracts.set("INITIALIZED")}else a.status.contracts.set("NOPROVIDER")})}async function ee(){a.status.network.is("DISCONNECTED")||a.provider.on("block",async function(s){const t=await a.provider.getBlockWithTransactions(s);for(const n of t.transactions)Object.keys(a._chainWatchers).includes(n.to)&&await a._chainWatchers[n.to].update(),a.status.wallet.is("CONNECTED")&&(await a.signer.getAddress(),n.from)})}const te={class:"ConnectWalletButton"},ne={key:1,disabled:""},ae={key:2,disabled:""},se={key:3,disabled:""},re={key:4,disabled:""},oe={__name:"ConnectWalletButton",setup(s){return(t,n)=>(e.openBlock(),e.createElementBlock("div",te,[e.unref(a).status.wallet.is("DISCONNECTED")?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:n[0]||(n[0]=(...r)=>e.unref(O)&&e.unref(O)(...r))},"Connect Wallet")):e.unref(a).status.wallet.is("REQUESTED")?(e.openBlock(),e.createElementBlock("button",ne,"Connection requested...")):e.unref(a).status.wallet.is("REFUSED")?(e.openBlock(),e.createElementBlock("button",ae,"Connection refused!")):e.unref(a).status.wallet.is("ERROR")?(e.openBlock(),e.createElementBlock("button",se,"Connection error!")):e.unref(a).status.network.is("WRONG")?(e.openBlock(),e.createElementBlock("button",re,"Wrong network! ("+e.toDisplayString(e.unref(a).networks.current.displayName)+")",1)):e.unref(a).status.wallet.is("CONNECTED")?(e.openBlock(),e.createElementBlock("button",{key:5,onClick:n[1]||(n[1]=(...r)=>e.unref(P)&&e.unref(P)(...r))},"Disconnect")):e.createCommentVNode("",!0)]))}},le=e.createTextVNode("Functions : "),ce=["onClick"],ie=e.createElementVNode("br",null,null,-1),de={key:0},ue=e.createElementVNode("small",null,"Inputs :",-1),me=["onUpdate:modelValue","type","placeholder"],he={key:0},pe=["onUpdate:modelValue"],fe=["onUpdate:modelValue"],be=["value"],ye={key:1},ke=e.createElementVNode("small",null,"Outputs :",-1),we=["onUpdate:modelValue","placeholder"],Ee={key:2},ge=e.createTextVNode(" Events : "),_e=e.createElementVNode("p",null,"Logs:",-1),Ne={__name:"ContractInteractor",props:{contractName:{type:String,required:!0}},setup(s){const t=s;async function n(l,i,u={}){let k,m,f=null;return i?Array.isArray(i)?f=l(...i,u):f=l(i,u):f=l(u),await f.then(E=>k=E).catch(E=>m=E),{data:k,error:m}}async function r(l){const i=[];for(const f of b.value[l].inputs)i.push(f.value);const u={};b.value[l].payable&&b.value[l].tx.value.value!==""&&(console.log(b.value[l].tx.value.value),u.value=p.ethers.utils.parseUnits(b.value[l].tx.value.value,b.value[l].tx.value.unit));const{data:k,error:m}=await n(N.value.functions[l],i,u);if(m)b.value[l].error=m.reason;else for(let f=0;f<k.length;f++)b.value[l].outputs[f].value=k[f]}async function o(l){I.value[l.event].count+=1;let i=`Block ${l.blockNumber} -> {`;for(const u of I.value[l.event].inputs)i+=`${u.name}:${l.args[u.name]}, `;i=i.substring(0,i.length-2)+"}",I.value[l.event].logs.push(i)}function d(l){return l.includes("int")?"number":"text"}function h(l){return`${l.name&&l.name!=="null"?l.name:"unnamed"} (${l.type})`}function _(l){const i=[];return i.push(l.mutability),l.payable&&i.push("payable"),i.join(", ")}const N=e.computed(()=>a.contracts[t.contractName]);let H=e.ref("");const We=["wei","gwei","ether"],I=e.ref({}),b=e.ref({});return j(async function(){H.value=await N.value.owner();for(const l of Object.values(N.value.interface.functions)){b.value[l.name]={inputs:[],outputs:[],error:null,payable:l.payable,mutability:l.stateMutability==="view"||l.stateMutability==="pure"?"read":"write",tx:{value:{value:"",unit:"wei"}}};for(let i=0;i<l.inputs.length;i++)b.value[l.name].inputs[i]={name:l.inputs[i].name,type:l.inputs[i].type,value:""};for(let i=0;i<l.outputs.length;i++)b.value[l.name].outputs[i]={name:l.outputs[i].name,type:l.outputs[i].type,value:""}}for(const l of Object.values(N.value.interface.events))I.value[l.name]={count:0,logs:[],inputs:l.inputs},N.value.on(l,o)}),(l,i)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("p",null,"Interact with '"+e.toDisplayString(s.contractName)+"' contract :",1),e.createElementVNode("ul",null,[e.createElementVNode("li",null,"Address : "+e.toDisplayString(N.value.address),1),e.createElementVNode("li",null,"Owner : "+e.toDisplayString(H.value),1),e.createElementVNode("li",null,[le,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.value,(u,k)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("button",{onClick:m=>r(k)},e.toDisplayString(k),9,ce),e.createElementVNode("small",null,"("+e.toDisplayString(_(u))+")",1),ie,Object.keys(u.inputs).length>0||u.payable?(e.openBlock(),e.createElementBlock("div",de,[ue,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.inputs,(m,f)=>(e.openBlock(),e.createElementBlock("li",null,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":E=>m.value=E,type:d(m.type),placeholder:h(m)},null,8,me),[[e.vModelDynamic,m.value]])]))),256)),u.payable?(e.openBlock(),e.createElementBlock("li",he,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":m=>u.tx.value.value=m,type:"text",placeholder:"TX value"},null,8,pe),[[e.vModelText,u.tx.value.value]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":m=>u.tx.value.unit=m},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(We,m=>e.createElementVNode("option",{value:m},e.toDisplayString(m),9,be)),64))],8,fe),[[e.vModelSelect,u.tx.value.unit]])])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),Object.keys(u.outputs).length>0?(e.openBlock(),e.createElementBlock("div",ye,[ke,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.outputs,(m,f)=>(e.openBlock(),e.createElementBlock("li",null,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":E=>m.value=E,type:"text",placeholder:h(m),disabled:""},null,8,we),[[e.vModelText,m.value]])]))),256))])])):e.createCommentVNode("",!0),u.error?(e.openBlock(),e.createElementBlock("p",Ee,e.toDisplayString(u.error),1)):e.createCommentVNode("",!0)]))),256))])]),e.createElementVNode("li",null,[ge,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.value,(u,k)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("h3",null,e.toDisplayString(k),1),e.createElementVNode("p",null,"Count : "+e.toDisplayString(u.count),1),_e,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.logs,m=>(e.openBlock(),e.createElementBlock("li",null,e.toDisplayString(m),1))),256))])]))),256))])])])],64))}},Ce={class:"SelectNetworkDropdown"},Se={key:0,selected:""},Ie=["src","alt"],Re=["onClick"],Oe=["src","alt"],De={__name:"SelectNetworkDropdown",setup(s){async function t(o){const d=a.networks.available.find(h=>h.chainId===parseInt(o));if(d){o=p.ethers.utils.hexlify(parseInt(o)).toString(),o=p.ethers.utils.hexValue(o);try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:o}]})}catch(_){_.code===4902&&await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:o,rpcUrls:[d.defaultRPC],chainName:d.name,nativeCurrency:{name:d.currency.symbol,symbol:d.currency.symbol,decimals:d.currency.decimals},blockExplorerUrls:d.explorer&&d.explorer.url!==""?[d.explorer.url]:null}]})}const h=await a.provider.getNetwork();a.networks.current.chainId!==h.chainId&&window.location.reload()}}function n(){r.value=!r.value}let r=e.ref(!1);return(o,d)=>(e.openBlock(),e.createElementBlock("div",Ce,[e.createElementVNode("ul",{onClick:n},[e.unref(a).networks.current?(e.openBlock(),e.createElementBlock("li",Se,[e.createElementVNode("img",{width:"40",src:e.unref(a).networks.current.icon?e.unref(a).networks.current.icon:e.unref(a).defaults.networks.icon,alt:e.unref(a).networks.current.name+" logo"},null,8,Ie),e.createElementVNode("p",null,e.toDisplayString(e.unref(a).networks.current.displayName),1)])):e.createCommentVNode("",!0),r.value?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(a).networks.available,h=>(e.openBlock(),e.createElementBlock("li",{key:h.chainId,onClick:_=>t(h.chainId)},[e.createElementVNode("img",{width:"40",src:h.icon?h.icon:e.unref(a).defaults.networks.icon,alt:h.name+" logo"},null,8,Oe),e.createElementVNode("p",null,e.toDisplayString(h.displayName),1)],8,Re))),128)):e.createCommentVNode("",!0)])]))}},Ue="",Be=(s,t)=>{const n=s.__vccOpts||s;for(const[r,o]of t)n[r]=o;return n},W=s=>(e.pushScopeId("data-v-80e9b638"),s=s(),e.popScopeId(),s),Ve=W(()=>e.createElementVNode("h3",null,"Safe Runners",-1)),Pe=W(()=>e.createElementVNode("h3",null,"Status",-1)),Te=Be({__name:"DebugBar",setup(s){return(t,n)=>(e.openBlock(),e.createElementBlock("section",null,[e.createElementVNode("div",null,[Ve,e.createElementVNode("ul",null,[e.createElementVNode("li",null,"DApp safe : "+e.toDisplayString(e.unref(g)),1),e.createElementVNode("li",null,"Network safe : "+e.toDisplayString(e.unref(y)),1),e.createElementVNode("li",null,"Wallet safe : "+e.toDisplayString(e.unref(w)),1),e.createElementVNode("li",null,"Contracts safe : "+e.toDisplayString(e.unref(C)),1)])]),e.createElementVNode("div",null,[Pe,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a).status,(r,o)=>(e.openBlock(),e.createElementBlock("li",null,e.toDisplayString(o)+" : "+e.toDisplayString(r.get()),1))),256))])])]))}},[["__scopeId","data-v-80e9b638"]]),g=e.computed(()=>a.safe);function v(s){if(g.value)s();else{const t=e.watch(g,()=>{g.value&&(s(),t())})}}const y=e.computed(()=>g.value&&!a.status.network.is("DISCONNECTED"));function R(s){v(()=>{if(y.value)s();else{const t=e.watch(y,()=>{y.value&&(s(),t())})}})}const w=e.computed(()=>y.value&&a.status.wallet.is("CONNECTED"));function xe(s){R(()=>{if(w.value)s();else{const t=e.watch(w,()=>{w.value&&(s(),t())})}})}const C=e.computed(()=>y.value&&a.status.contracts.is("INITIALIZED"));function j(s){R(()=>{if(C.value)s();else{const t=e.watch(C,()=>{C.value&&(s(),t())})}})}class Me{constructor(t){this.contract=t,this.sources={},this.lastUpdateBlock=0}_buildSourceName(t,n){return`${t}:${n.toString}`}async update(){const t=await a.provider.getBlockNumber();if(this.lastUpdateBlock<t){for(const[n,r]of Object.entries(this.sources)){const o=r.state.value;r.state.value=await this.contract[r.name](...r.args);for(const d of r.callbacks)d(r.state.value,o)}this.lastUpdateBlock=t}}add(t,n,r=null){const o=this._buildSourceName(t,n);return Object.keys(this.sources).includes(o)||(this.sources[o]={name:t,args:n,state:e.ref(null),callbacks:[]},this.contract[t](...n).then(d=>{this.sources[o].state.value=d})),r&&(this.sources[o].callbacks.includes(r)||this.sources[o].callbacks.push(r)),this.sources[o].state}remove(t,n,r){const o=this._buildSourceName(t,n);Object.keys(this.sources).includes(o)||(this.sources[o].callbacks=this.sources[o].callbacks.filter(d=>d!==r))}getRef(t,n){const r=this._buildSourceName(t,n);return this.sources[r].state}}function U(s,t,n,r=null){Object.keys(a._chainWatchers).includes(s.address)||(a._chainWatchers[s.address]=new Me(s)),a._chainWatchers[s.address].add(t,n,r)}function F(s,t,n,r){return U(s,t,n,r),e.onUnmounted(()=>a._chainWatchers[s.address].remove(t,n,r)),a._chainWatchers[s.address].remove.bind(a._chainWatchers[s.address],t,n,r)}function L(s,t,n){return U(s,t,n,null),a._chainWatchers[s.address].getRef(t,n)}async function O(s=!1){if(y){if(a.status.wallet.is("DISCONNECTED"))try{const t=await a.provider.getSigner();await t.getAddress(),a.signer=t,a.status.wallet.set("CONNECTED")}catch{if(console.log("ERROOOOOOR"),s===!0)a.status.wallet.set("DISCONNECTED");else try{a.status.wallet.set("REQUESTED"),await a.provider.send("eth_requestAccounts",[]);const n=await a.provider.getSigner();await n.getAddress(),a.signer=n,a.status.wallet.set("CONNECTED")}catch(n){console.log(n),n.code===4001?a.status.wallet.set("REFUSED"):a.status.wallet.set("ERROR")}}}else a.status.wallet.set("NOPROVIDER")}function P(){console.log(a.provider),a.signer=null,a.status.wallet.set("DISCONNECTED")}class G extends p.ethers.providers.Web3Provider{constructor(...t){return super(...t),e.markRaw(this)}}function D(s){return s&&typeof s=="object"&&!Array.isArray(s)}function S(s,...t){if(!t.length)return s;const n=t.shift();if(D(s)&&D(n))for(const r in n)D(n[r])?(s[r]||Object.assign(s,{[r]:{}}),S(s[r],n[r])):Object.assign(s,{[r]:n[r]});return S(s,...t)}function $e(s){const t=s.split(" ");for(let n=0;n<t.length;n++)t[n]=t[n][0].toUpperCase()+t[n].substring(1);return t.join(" ")}async function Ae(s,t){s.config.globalProperties.dapp=a,await Q(t),await Z(),await z(),await J(),await X(),await ee(),a.safe=!0}c.ConnectWalletButton=oe,c.Contract=B,c.ContractInteractor=Ne,c.ContractsList=A,c.DebugBar=Te,c.MixedStore=$,c.SelectNetworkDropdown=De,c.Status=M,c.StatusList=x,c.Web3Provider=G,c.areContractsSafe=C,c.capitalizeWords=$e,c.connectWallet=O,c.dapp=a,c.deepMerge=S,c.disconnectWallet=P,c.initVuethers=Ae,c.isDappSafe=g,c.isObject=D,c.isProviderSafe=y,c.isSignerSafe=w,c.onContractsSafe=j,c.onDappSafe=v,c.onProviderSafe=R,c.onSignerSafe=xe,c.watchChain=F,c.watchChainRef=L,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
