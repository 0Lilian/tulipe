(function(l,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("ethers")):typeof define=="function"&&define.amd?define(["exports","vue","ethers"],e):(l=typeof globalThis<"u"?globalThis:l||self,e(l.vuethers={},l.Vue,l.Ethers))})(this,function(l,e,k){"use strict";class P{add(t,s){if(Object.keys(n.status).includes(t))throw`You cannot add a new status called '${t}', this name is either reserved by Vuethers or already existing.`;n.status[t]=new x(t,s)}}class x{constructor(t,s){if(this._name=t,this.states=[],!Array.isArray(s))throw`The 'states' parameter of a Status instance '${t}' must an array of strings. Got: ${s}`;for(const a of s)this.states.push(this._formatState(a));this._state=e.ref(this.states[0])}_formatState(t){return t.toString().toUpperCase()}_isStateValid(t){return!!this.states.includes(this._formatState(t))}_areStatesValid(t){for(const s of t)if(!this._isStateValid(s))return!1;return!0}get(){return this._state.value}getRef(){return this.state}set(t){if(console.log(`status ${this._name} set to ${t}`),t=this._formatState(t),!this._isStateValid(t))throw`The state given to the set() method of Status instance '${this._name}' must a value in ${this.states}. Got: ${t}`;this._state.value=t}is(t){if(!this._isStateValid(t))throw`The state given to the is() method of Status instance '${this._name}' must a value in ${this.states}. Got: ${t}`;return this.get()==this._formatState(t)}isIn(t){if(!this._areStatesValid(t))throw`The states given to the isIn() method of Status instance '${this._name}' must be an array with values in ${this.states}. Got: ${t}`;for(const s of t)if(this.is(s))return!0;return!1}watch(t,s){let a=`The states given to the watch() method of Status instance '${this._name}' must be a string or an array with values in ${this.states}. Got: ${t}`;if(Array.isArray(t)){if(!this._areStatesValid(t))throw a;e.watch(this._state,()=>{t.includes(this._state)&&s(this.get())})}else{if(!this._isStateValid(t))throw a;e.watch(this._state,()=>{t===this._state&&s(this.get())})}}watchAny(t){this.watch(this.states,t)}}class W{constructor(){this._contracts=[],this.areSafe=e.computed(()=>n.provider.isSafe.value&&n.status.contracts.is("INITIALIZED"))}add(t,s,a){if(Object.keys(this).includes(t))throw`You cannot add a new contract called '${t}', this name is either reserved by Vuethers or already existing.`;if(n.signer.isSafe.value)this[t]=new O(new k.ethers.Contract(s,a,n.signer.proxy.getEthersObject()));else if(n.provider.isSafe.value)this[t]=new O(new k.ethers.Contract(s,a,n.provider.proxy.getEthersObject()));else throw"A contract is trying to be added from dapp.contract.add() but neither provider nor signer are available.";this._contracts.push(t)}remove(t){Object.keys(this).includes(t)&&(delete this[t],this._contracts=this._contracts.filter(s=>s!==t))}getAll(){const t={};for(const s of this._contracts)t[s]=this[s];return t}onSafe(t){n.provider.onSafe(()=>{if(this.areSafe.value)t();else{const s=e.watch(this.areSafe,()=>{this.areSafe.value&&(t(),s())})}})}}function U(r){for(var t=[];r&&r!==Object.prototype;)t.push.apply(t,Object.getOwnPropertyNames(r)),r=Object.getPrototypeOf(r);return t}class F{constructor(t){this._parent=t}setEthersObject(t){this._parent._ethersObject=t&&e.markRaw(t),this.extendsEthersObject()}getEthersObject(){return this._parent._ethersObject}extendsEthersObject(){if(this._parent._ethersObject&&this._parent._extensionObject){const t=U(this._parent._extensionObject);for(const s of t)if(s!=="constructor")try{this._parent._ethersObject[s]=this._parent._extensionObject[s].bind(this._parent._ethersObject)}catch(a){if(a instanceof TypeError)this._parent._ethersObject[s]=this._parent._extensionObject[s];else throw a}}}}class C{constructor(t=null,s=null){return this._ethersObject=null,this._extensionObject=s,this.proxy=new F(this),this.proxy.setEthersObject(t),new Proxy(this,{get:function(a,i,u){if(a._ethersObject&&a._ethersObject[i])try{return a._ethersObject[i].bind(a._ethersObject)}catch(p){if(p.message.includes(".bind is not a function"))return a._ethersObject[i];throw p}else if(a[i])return a[i]},set:function(a,i,u){return a._ethersObject&&a._ethersObject[i]?(a._ethersObject[i]=u,!0):(a[i]=u,!0)}})}}class L{}class V extends C{constructor(t=null){const s=new L;super(t,s),this.isSafe=e.computed(()=>n.isSafe.value&&!n.status.provider.is("DISCONNECTED"))}onSafe(t){n.onSafe(()=>{if(this.isSafe.value)t();else{const s=e.watch(this.isSafe,()=>{this.isSafe.value&&(t(),s())})}})}}class G{}class B extends C{constructor(t=null){const s=new G;super(t,s),this.isSafe=e.computed(()=>n.provider.isSafe.value&&n.status.signer.is("CONNECTED"))}onSafe(t){n.provider.onSafe(()=>{if(this.isSafe.value)t();else{const s=e.watch(this.isSafe,()=>{this.isSafe.value&&(t(),s())})}})}}class H{_watch(t,s,a=null){Object.keys(n._chainWatchers).includes(this.address)||(n._chainWatchers[this.address]=new M(this)),n._chainWatchers[this.address].add(t,s,a)}watch(t,s,a){return this._watch(t,s,a),e.onUnmounted(()=>n._chainWatchers[this.address].remove(t,s,a)),n._chainWatchers[this.address].remove.bind(n._chainWatchers[this.address],t,s,a)}watchRef(t,s){return this._watch(t,s,null),n._chainWatchers[this.address].getRef(t,s)}}class O extends C{constructor(t=null){const s=new H;super(t,s)}}class K{constructor(){this.config={},this.defaults={},this.networks={},this._chainWatchers={},this.status=new P,this.provider=new V,this.signer=new B,this.contracts=new W,this.safe=e.ref(!1),this.isSafe=e.computed(()=>this.safe.value)}onSafe(t){if(this.isSafe.value)t();else{const s=e.watch(this.isSafe,()=>{this.isSafe.value&&(t(),s())})}}}const n=new K,I={networks:[{name:"Ethereum Mainnet",displayName:"Ethereum",chainId:1,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/ethereum.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://etherscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.infura.io/v3/"},{name:"Ropsten",displayName:"Ropsten (Ethereum Testnet)",chainId:3,type:"testnet",icon:null,currency:{name:"Ropsten Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://ropsten.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://ropsten.infura.io/v3/"},{name:"Rinkeby",displayName:"Rinkeby (Ethereum Testnet)",chainId:4,type:"testnet",icon:null,currency:{name:"Rinkeby Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://rinkeby.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://rinkeby.infura.io/v3/"},{name:"G\xF6rli",displayName:"G\xF6rli (Ethereum Testnet)",chainId:5,type:"testnet",icon:null,currency:{name:"G\xF6rli Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://goerli.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://goerli.infura.io/v3/"},{name:"Optimism",chainId:10,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/optimism.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://optimistic.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.optimism.io/"},{name:"Cronos Mainnet Beta",displayName:"Cronos",chainId:25,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/cronos.svg",currency:{name:"Cronos",symbol:"CRO",decimals:18},contracts:null,explorer:{name:"Cronos Explorer",url:"https://cronos.org/explorer",standard:"EIP3091"},defaultRPC:"https://evm.cronos.org"},{name:"Telos EVM Mainnet",displayName:"Telos",chainId:40,type:"mainnet",icon:null,currency:{name:"Telos",symbol:"TLOS",decimals:18},contracts:null,explorer:{name:"Teloscan",url:"https://teloscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.telos.net/evm"},{name:"Binance Smart Chain Mainnet",displayName:"BSC",chainId:56,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/bsc.svg",currency:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18},contracts:null,explorer:{name:"Bscscan",url:"https://bscscan.com/",standard:"EIP3091"},defaultRPC:"https://bsc-dataseed1.binance.org/"},{name:"Gnosis Chain",displayName:"Gnosis",chainId:100,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/gnosis.svg",currency:{name:"xDAI",symbol:"xDAI",decimals:18},contracts:null,explorer:{name:"Blockscout",url:"https://blockscout.com/xdai/mainnet/",standard:"EIP3091"},defaultRPC:"https://rpc.gnosischain.com"},{name:"Fuse Mainnet",displayName:"Fuse",chainId:122,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/fuse.svg",currency:{name:"Fuse",symbol:"FUSE",decimals:18},contracts:null,explorer:{name:"Fuse Explorer",url:"https://explorer.fuse.io/",standard:"EIP3091"},defaultRPC:"https://rpc.fuse.io"},{name:"Huobi ECO Chain Mainnet",displayName:"HECO",chainId:128,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/heco.svg",currency:{name:"Huobi ECO Chain Native Token",symbol:"HT",decimals:18},contracts:null,explorer:{name:"Hecoinfo",url:"https://hecoinfo.com",standard:"EIP3091"},defaultRPC:"https://http-mainnet.hecochain.com"},{name:"Polygon Mainnet",displayName:"Polygon",chainId:137,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/polygon.svg",currency:{name:"MATIC",symbol:"MATIC",decimals:18},contracts:null,explorer:{name:"Polygonscan",url:"https://polygonscan.com/",standard:"EIP3091"},defaultRPC:"https://polygon-rpc.com/"},{name:"Fantom Opera",displayName:"Fantom",chainId:250,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/fantom.svg",currency:{name:"Fantom",symbol:"FTM",decimals:18},contracts:null,explorer:{name:"Ftmscan",url:"https://ftmscan.com/",standard:"EIP3091"},defaultRPC:"https://rpc.ftm.tools"},{name:"Metis Andromeda Mainnet",displayName:"Metis",chainId:1088,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/metis.svg",currency:{name:"Metis",symbol:"METIS",decimals:18},contracts:null,explorer:{name:"Metis Explorer",url:"https://andromeda-explorer.metis.io",standard:"EIP3091"},defaultRPC:"https://andromeda.metis.io/?owner=1088"},{name:"Moonbeam",chainId:1284,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/moonbeam.svg",currency:{name:"Glimmer",symbol:"GLMR",decimals:18},contracts:null,explorer:{name:"Moonscan",url:"https://moonbeam.moonscan.io",standard:"EIP3091"},defaultRPC:"https://rpc.api.moonbeam.network"},{name:"Moonriver",chainId:1285,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/moonriver.svg",currency:{name:"Moonriver",symbol:"MOVR",decimals:18},contracts:null,explorer:{name:"Moonscan",url:"https://moonriver.moonscan.io/",standard:"EIP3091"},defaultRPC:"https://rpc.api.moonriver.moonbeam.network"},{name:"Klaytn Mainnet Cypress",displayName:"Klaytn",chainId:8217,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/klaytn.svg",currency:{name:"KLAY",symbol:"KLAY",decimals:18},contracts:null,explorer:{name:"Klaytnscope",url:"https://scope.klaytn.com",standard:"EIP3091"},defaultRPC:"https://public-node-api.klaytnapi.com/v1/cypress"},{name:"Hardhat",displayName:"Hardhat",chainId:31337,type:"testnet",icon:null,currency:{name:"GoChain Coin",symbol:"GO",decimals:18},contracts:null,explorer:null,defaultRPC:"http://127.0.0.1:8545/"},{name:"Arbitrum One",displayName:"Arbitrum",chainId:42161,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/arbitrum.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Arbiscan",url:"https://arbiscan.io/",standard:"EIP3091"},defaultRPC:"https://arbitrum-mainnet.infura.io/v3/"},{name:"Celo Mainnet",displayName:"Celo",chainId:42220,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/celo.svg",currency:{name:"CELO",symbol:"CELO",decimals:18},contracts:null,explorer:{name:"Celo Explorer",url:"https://explorer.celo.org/",standard:"EIP3091"},defaultRPC:"https://forno.celo.org"},{name:"Emerald Paratime Mainnet",displayName:"Emerald",chainId:42262,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/emerald.svg",currency:{name:"Emerald Rose",symbol:"ROSE",decimals:18},contracts:null,explorer:{name:"Emerald Explorer",url:"https://explorer.emerald.oasis.dev/",standard:"EIP3091"},defaultRPC:"https://emerald.oasis.dev"},{name:"Avalanche C-Chain",displayName:"Avalanche",chainId:43114,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/avalanche.svg",currency:{name:"Avalanche",symbol:"AVAX",decimals:18},contracts:null,explorer:{name:"Snowtrace",url:"https://snowtrace.io/",standard:"EIP3091"},defaultRPC:"https://api.avax.network/ext/bc/C/rpc"},{name:"Aurora Mainnet",displayName:"Aurora",chainId:1313161554,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/aurora.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Aurorascan",url:"https://aurorascan.dev",standard:"EIP3091"},defaultRPC:"https://mainnet.aurora.dev"},{name:"Harmony Mainnet Shard 0",displayName:"Harmony",chainId:16666e5,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/harmony.svg",currency:{name:"ONE",symbol:"ONE",decimals:18},contracts:null,explorer:{name:"Harmony Block Explorer",url:"https://explorer.harmony.one",standard:"EIP3091"},defaultRPC:"https://api.harmony.one"}],defaults:{networks:{icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/unknown.svg"}}};async function q(){const r=await n.provider.getNetwork().then(t=>t.chainId);return n.config.networks.find(t=>t.chainId===r)}async function Y(r=null){if(r){const t=g({...I},{...r});t.networks=[];for(let s of r.networks)if(s.chainId){const a=I.networks.find(i=>i.chainId===s.chainId);s=g({...a},{...s}),s.displayName||(s.displayName=s.name),t.networks.push(s)}t.networks.getCurrent=q,n.config=t}}async function Q(){n.status.add("provider",["DISCONNECTED","WRONG","UNKNOWN","ERROR","CONNECTED"]),n.status.add("signer",["DISCONNECTED","REQUESTED","REFUSED","ERROR","NOPROVIDER","CONNECTED"]),n.status.add("contracts",["WAITING","ERROR","NOPROVIDER","INITIALIZED"]),n.status.signer.watch(["REFUSED","ERROR","NOPROVIDER"],()=>{setTimeout(()=>{n.status.signer.set("DISCONNECTED")},5e3)})}async function Z(){if(n.provider.proxy.setEthersObject(new k.ethers.providers.Web3Provider(window.ethereum,"any")),n.provider._ethersObject){const r=await n.provider.getNetwork().then(s=>s.chainId);let t=n.config.networks.find(s=>s.chainId===r);t?(n.provider=n.provider,n.status.provider.set("CONNECTED")):(t=I.networks.find(s=>s.chainId===r),t?(n.provider=n.provider.proxy.setEthersObject(new k.ethers.providers.JsonRpcProvider(knownNetwork.defaultRPC)),n.status.provider.set("WRONG")):(n.provider=n.provider,n.status.provider.set("UNKNOWN"))),n.provider.on("network",(s,a)=>{a&&a!==s&&window.location.reload()}),n.provider.on("error",()=>{console.log("Provider error !"),n.status.provider.set("ERROR")}),t&&(n.provider.pollingInterval=t.pollingInterval)}else{const r=n.config.networks.find(t=>t.default===!0);network?n.provider=n.provider.proxy.setEthersObject(new k.ethers.providers.JsonRpcProvider(r.defaultRPC)):n.status.provider.set("DISCONNECTED")}}async function z(){n.status.provider.is("DISCONNECTED")||await S(!0)}async function J(){n.provider.onSafe(async function(){const r=await n.config.networks.getCurrent();if(r){for(const[t,s]of Object.entries(r.contracts))n.contracts.add(t,s.address,s.abi);e.watch([n.signer.isSafe,n.provider.isSafe],(t,s)=>{if(console.log("Refresh contracts !"),t!==s)for(const[a,i]of Object.entries(n.contracts.getAll())){const u=a,p=i.address,_=i.interface.format("json");n.contracts.remove(a);try{n.contracts.add(u,p,_)}catch(y){console.log(y),n.status.contracts.set("NOPROVIDER");break}}}),n.status.contracts.set("INITIALIZED")}else n.status.contracts.set("NOPROVIDER")})}async function X(){n.provider.onSafe(()=>{n.provider.on("block",async function(r){const t=await n.provider.getBlockWithTransactions(r);for(const s of t.transactions)Object.keys(n._chainWatchers).includes(s.to)&&await n._chainWatchers[s.to].update(),n.status.signer.is("CONNECTED")&&(await n.signer.getAddress(),s.from)})})}const ee={key:0,class:"ConnectWalletButton"},te={key:1,disabled:""},ne={key:2,disabled:""},se={key:3,disabled:""},re={key:4,disabled:""},ae={__name:"ConnectWalletButton",setup(r){return(t,s)=>e.unref(n).provider.isSafe.value?(e.openBlock(),e.createElementBlock("div",ee,[e.unref(n).status.signer.is("DISCONNECTED")?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:s[0]||(s[0]=(...a)=>e.unref(S)&&e.unref(S)(...a))},"Connect Wallet")):e.unref(n).status.signer.is("REQUESTED")?(e.openBlock(),e.createElementBlock("button",te,"Connection requested...")):e.unref(n).status.signer.is("REFUSED")?(e.openBlock(),e.createElementBlock("button",ne,"Connection refused!")):e.unref(n).status.signer.is("ERROR")?(e.openBlock(),e.createElementBlock("button",se,"Connection error!")):e.unref(n).status.provider.is("WRONG")?(e.openBlock(),e.createElementBlock("button",re,"Wrong network! ("+e.toDisplayString(e.unref(n).networks.current.displayName)+")",1)):e.unref(n).status.signer.is("CONNECTED")?(e.openBlock(),e.createElementBlock("button",{key:5,onClick:s[1]||(s[1]=(...a)=>e.unref(R)&&e.unref(R)(...a))},"Disconnect")):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)}},oe=e.createTextVNode("Functions : "),ie=["onClick"],ce=e.createElementVNode("br",null,null,-1),le={key:0},de=e.createElementVNode("small",null,"Inputs :",-1),ue=["onUpdate:modelValue","type","placeholder"],he={key:0},pe=["onUpdate:modelValue"],me=["onUpdate:modelValue"],fe=["value"],be={key:1},ye=e.createElementVNode("small",null,"Outputs :",-1),ke=["onUpdate:modelValue","placeholder"],Ee={key:2},_e=e.createTextVNode(" Events : "),ge=e.createElementVNode("p",null,"Logs:",-1),we={__name:"ContractInteractor",props:{contractName:{type:String,required:!0}},setup(r){const t=r;async function s(o,c,d={}){let b,h,m=null;return c?Array.isArray(c)?m=o(...c,d):m=o(c,d):m=o(d),await m.then(E=>b=E).catch(E=>h=E),{data:b,error:h}}async function a(o){const c=[];for(const m of f.value[o].inputs)c.push(m.value);const d={};f.value[o].payable&&f.value[o].tx.value.value!==""&&(d.value=k.ethers.utils.parseUnits(f.value[o].tx.value.value,f.value[o].tx.value.unit));const{data:b,error:h}=await s(y.value.functions[o],c,d);if(h)f.value[o].error=h.reason;else for(let m=0;m<b.length;m++)f.value[o].outputs[m].value=b[m]}async function i(o){w.value[o.event].count+=1;let c=`Block ${o.blockNumber} -> {`;for(const d of w.value[o.event].inputs)c+=`${d.name}:${o.args[d.name]}, `;c=c.substring(0,c.length-2)+"}",w.value[o.event].logs.push(c)}function u(o){return o.includes("int")?"number":"text"}function p(o){return`${o.name&&o.name!=="null"?o.name:"unnamed"} (${o.type})`}function _(o){const c=[];return c.push(o.mutability),o.payable&&c.push("payable"),c.join(", ")}const y=e.computed(()=>n.contracts[t.contractName]);let A=e.ref("");const ve=["wei","gwei","ether"],w=e.ref({}),f=e.ref({});return n.contracts.onSafe(async function(){A.value=await y.value.owner();for(const o of Object.values(y.value.interface.functions)){f.value[o.name]={inputs:[],outputs:[],error:null,payable:o.payable,mutability:o.stateMutability==="view"||o.stateMutability==="pure"?"read":"write",tx:{value:{value:"",unit:"wei"}}};for(let c=0;c<o.inputs.length;c++)f.value[o.name].inputs[c]={name:o.inputs[c].name,type:o.inputs[c].type,value:""};for(let c=0;c<o.outputs.length;c++)f.value[o.name].outputs[c]={name:o.outputs[c].name,type:o.outputs[c].type,value:""}}for(const o of Object.values(y.value.interface.events))w.value[o.name]={count:0,logs:[],inputs:o.inputs},y.value.on(o,i)}),(o,c)=>e.unref(n).contracts.areSafe&&y.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("p",null,"Interact with '"+e.toDisplayString(r.contractName)+"' contract :",1),e.createElementVNode("ul",null,[e.createElementVNode("li",null,"Address : "+e.toDisplayString(y.value.address),1),e.createElementVNode("li",null,"Owner : "+e.toDisplayString(A.value),1),e.createElementVNode("li",null,[oe,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value,(d,b)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("button",{onClick:h=>a(b)},e.toDisplayString(b),9,ie),e.createElementVNode("small",null,"("+e.toDisplayString(_(d))+")",1),ce,Object.keys(d.inputs).length>0||d.payable?(e.openBlock(),e.createElementBlock("div",le,[de,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.inputs,(h,m)=>(e.openBlock(),e.createElementBlock("li",null,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":E=>h.value=E,type:u(h.type),placeholder:p(h)},null,8,ue),[[e.vModelDynamic,h.value]])]))),256)),d.payable?(e.openBlock(),e.createElementBlock("li",he,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":h=>d.tx.value.value=h,type:"text",placeholder:"TX value"},null,8,pe),[[e.vModelText,d.tx.value.value]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":h=>d.tx.value.unit=h},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(ve,h=>e.createElementVNode("option",{value:h},e.toDisplayString(h),9,fe)),64))],8,me),[[e.vModelSelect,d.tx.value.unit]])])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),Object.keys(d.outputs).length>0?(e.openBlock(),e.createElementBlock("div",be,[ye,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.outputs,(h,m)=>(e.openBlock(),e.createElementBlock("li",null,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":E=>h.value=E,type:"text",placeholder:p(h),disabled:""},null,8,ke),[[e.vModelText,h.value]])]))),256))])])):e.createCommentVNode("",!0),d.error?(e.openBlock(),e.createElementBlock("p",Ee,e.toDisplayString(d.error),1)):e.createCommentVNode("",!0)]))),256))])]),e.createElementVNode("li",null,[_e,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.value,(d,b)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("h3",null,e.toDisplayString(b),1),e.createElementVNode("p",null,"Count : "+e.toDisplayString(d.count),1),ge,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.logs,h=>(e.openBlock(),e.createElementBlock("li",null,e.toDisplayString(h),1))),256))])]))),256))])])])],64)):e.createCommentVNode("",!0)}},Se={key:0,class:"SelectNetworkDropdown"},Ne={key:0,selected:""},Ce=["src","alt"],Oe=["onClick"],Ie=["src","alt"],Re={__name:"SelectNetworkDropdown",setup(r){async function t(i){const u=n.networks.available.find(p=>p.chainId===parseInt(i));if(u){i=k.ethers.utils.hexlify(parseInt(i)).toString(),i=k.ethers.utils.hexValue(i);try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:i}]})}catch(_){_.code===4902&&await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:i,rpcUrls:[u.defaultRPC],chainName:u.name,nativeCurrency:{name:u.currency.symbol,symbol:u.currency.symbol,decimals:u.currency.decimals},blockExplorerUrls:u.explorer&&u.explorer.url!==""?[u.explorer.url]:null}]})}const p=await n.provider.getNetwork();n.networks.current.chainId!==p.chainId&&window.location.reload()}}function s(){a.value=!a.value}let a=e.ref(!1);return(i,u)=>e.unref(n).safe?(e.openBlock(),e.createElementBlock("div",Se,[e.createElementVNode("ul",{onClick:s},[e.unref(n).networks.current?(e.openBlock(),e.createElementBlock("li",Ne,[e.createElementVNode("img",{width:"40",src:e.unref(n).networks.current.icon?e.unref(n).networks.current.icon:e.unref(n).defaults.networks.icon,alt:e.unref(n).networks.current.name+" logo"},null,8,Ce),e.createElementVNode("p",null,e.toDisplayString(e.unref(n).networks.current.displayName),1)])):e.createCommentVNode("",!0),a.value?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(n).networks.available,p=>(e.openBlock(),e.createElementBlock("li",{key:p.chainId,onClick:_=>t(p.chainId)},[e.createElementVNode("img",{width:"40",src:p.icon?p.icon:e.unref(n).defaults.networks.icon,alt:p.name+" logo"},null,8,Ie),e.createElementVNode("p",null,e.toDisplayString(p.displayName),1)],8,Oe))),128)):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)}},Me="",Pe=(r,t)=>{const s=r.__vccOpts||r;for(const[a,i]of t)s[a]=i;return s},D=r=>(e.pushScopeId("data-v-82af2e89"),r=r(),e.popScopeId(),r),xe={key:0},Ve=D(()=>e.createElementVNode("h3",null,"Safe Runners",-1)),Be=D(()=>e.createElementVNode("h3",null,"Status",-1)),De=Pe({__name:"DebugBar",setup(r){return(t,s)=>e.unref(n).isSafe.value?(e.openBlock(),e.createElementBlock("section",xe,[e.createElementVNode("div",null,[Ve,e.createElementVNode("ul",null,[e.createElementVNode("li",null,"DApp safe : "+e.toDisplayString(e.unref(n).isSafe),1),e.createElementVNode("li",null,"Network safe : "+e.toDisplayString(e.unref(n).provider.isSafe),1),e.createElementVNode("li",null,"Wallet safe : "+e.toDisplayString(e.unref(n).signer.isSafe),1),e.createElementVNode("li",null,"Contracts safe : "+e.toDisplayString(e.unref(n).contracts.areSafe),1)])]),e.createElementVNode("div",null,[Be,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(n).status,(a,i)=>(e.openBlock(),e.createElementBlock("li",null,e.toDisplayString(i)+" : "+e.toDisplayString(a.get()),1))),256))])])])):e.createCommentVNode("",!0)}},[["__scopeId","data-v-82af2e89"]]),T={__name:"OnDappSafe",setup(r){return(t,s)=>e.unref(n).isSafe.value?e.renderSlot(t.$slots,"safe",{key:0}):e.renderSlot(t.$slots,"unsafe",{key:1})}},j={__name:"OnProviderSafe",setup(r){return(t,s)=>e.unref(n).provider.isSafe.value?e.renderSlot(t.$slots,"safe",{key:0}):e.renderSlot(t.$slots,"unsafe",{key:1})}},$={__name:"OnSignerSafe",setup(r){return(t,s)=>e.unref(n).signer.isSafe.value?e.renderSlot(t.$slots,"safe",{key:0}):e.renderSlot(t.$slots,"unsafe",{key:1})}},v={__name:"OnContractsSafe",setup(r){return(t,s)=>e.unref(n).contracts.areSafe.value?e.renderSlot(t.$slots,"safe",{key:0}):e.renderSlot(t.$slots,"unsafe",{key:1})}};async function Te(r){r.component("OnDappSafe",T),r.component("OnProviderSafe",j),r.component("OnSignerSafe",$),r.component("OnContractsSafe",v)}class M{constructor(t){this.contract=t,this.sources={},this.lastUpdateBlock=0}_buildSourceName(t,s){return`${t}:${s.toString}`}async update(){const t=await n.provider.getBlockNumber();if(this.lastUpdateBlock<t){for(const[s,a]of Object.entries(this.sources)){const i=a.state.value;a.state.value=await this.contract[a.name](...a.args);for(const u of a.callbacks)u(a.state.value,i)}this.lastUpdateBlock=t}}add(t,s,a=null){const i=this._buildSourceName(t,s);return Object.keys(this.sources).includes(i)||(this.sources[i]={name:t,args:s,state:e.ref(null),callbacks:[]},this.contract[t](...s).then(u=>{this.sources[i].state.value=u})),a&&(this.sources[i].callbacks.includes(a)||this.sources[i].callbacks.push(a)),this.sources[i].state}remove(t,s,a){const i=this._buildSourceName(t,s);Object.keys(this.sources).includes(i)||(this.sources[i].callbacks=this.sources[i].callbacks.filter(u=>u!==a))}getRef(t,s){const a=this._buildSourceName(t,s);return this.sources[a].state}}async function S(r=!1){n.provider.isSafe.value||n.status.signer.set("NOPROVIDER"),n.provider.onSafe(async function(){if(!n.signer.isSafe.value)try{const t=await n.provider.getSigner();await t.getAddress(),n.signer.proxy.setEthersObject(t),n.status.signer.set("CONNECTED")}catch{if(r===!0)n.status.signer.set("DISCONNECTED");else try{n.status.signer.set("REQUESTED"),await n.provider.send("eth_requestAccounts",[]);const s=await n.provider.getSigner();await s.getAddress(),n.signer.proxy.setEthersObject(s),n.status.signer.set("CONNECTED")}catch(s){console.log(s),s.code===4001?n.status.signer.set("REFUSED"):n.status.signer.set("ERROR")}}})}function R(){n.signer.proxy.setEthersObject(null),n.status.signer.set("DISCONNECTED")}function N(r){return r&&typeof r=="object"&&!Array.isArray(r)}function g(r,...t){if(!t.length)return r;const s=t.shift();if(N(r)&&N(s))for(const a in s)N(s[a])?(r[a]||Object.assign(r,{[a]:{}}),g(r[a],s[a])):Object.assign(r,{[a]:s[a]});return g(r,...t)}function je(r){const t=r.split(" ");for(let s=0;s<t.length;s++)t[s]=t[s][0].toUpperCase()+t[s].substring(1);return t.join(" ")}async function $e(r,t){r.config.globalProperties.dapp=n,await Te(r),await Y(t),await Q(),await Z(),await z(),await J(),await X(),n.safe.value=!0}l.ChainWatcher=M,l.ConnectWalletButton=ae,l.ContractInteractor=we,l.DebugBar=De,l.EthersContractProxy=O,l.EthersProviderProxy=V,l.EthersSignerProxy=B,l.OnContractsSafe=v,l.OnDappSafe=T,l.OnProviderSafe=j,l.OnSignerSafe=$,l.SelectNetworkDropdown=Re,l.Status=x,l.StatusList=P,l.capitalizeWords=je,l.connectWallet=S,l.dapp=n,l.deepMerge=g,l.disconnectWallet=R,l.initVuethers=$e,l.isObject=N,Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
