(function(p,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("ethers")):typeof define=="function"&&define.amd?define(["exports","vue","ethers"],e):(p=typeof globalThis<"u"?globalThis:p||self,e(p.vuethers={},p.Vue,p.Ethers))})(this,function(p,e,k){"use strict";class I extends Object{constructor(t,a){return super(),super.constructor(),this._statelessSource=t,this._statefulSource=a,new Proxy(this,{get:function(l,r,d){if(Object.keys(l._statefulSource.value).includes(r))return l._statefulSource.value[r];if(Object.keys(l._statelessSource).includes(r))return l._statelessSource[r]},set:function(l,r,d){if(Object.keys(l._statefulSource.value).includes(r))return l._statefulSource.value[r]=d,!0;if(Object.keys(l._statelessSource).includes(r))return l._statelessSource[r]=d,!0;throw`MixedStore object doesn't have any property called '${r}'. New properties cannot be set / removed directly on a MixedStore object, please use add() and remove() methods of the store.`}})}add(t,a,l){if(t==="stateful")this._statefulSource.value[a]=l;else if(t==="stateless")this._statelessSource[a]=l;else throw`The the 'source' argument MixedStore.add() method must be 'stateful' or 'stateless'. Got: ${t}`}remove(t,a){if(t==="stateful")delete this._statefulSource.value[a];else if(t==="stateless")delete this._statelessSource[a];else throw`The the 'source' argument MixedStore.remove() method must be 'stateful' or 'stateless'. Got: ${t}`}}const x={config:{},defaults:{},networks:{},status:{add:(o,t)=>{if(Object.keys(n.status).includes(o))throw`You cannot add a new status called '${o}', this name is either reserved by Vuethers or already existing.`;n.status[o]=new N(o,t)}}},B=e.ref({initialized:e.ref(!1),provider:null,signer:null,contracts:{_contracts:[],add:(o,t,a)=>{if(Object.keys(n.contracts).includes(o))throw`You cannot add a new contract called '${o}', this name is either reserved by Vuethers or already existing.`;let l=null;try{l=new k.ethers.Contract(t,a,n.signer)}catch{l=new k.ethers.Contract(t,a,n.provider)}n.contracts[o]=e.markRaw(l),n.contracts._contracts.push(o),e.watch(()=>n.signer,()=>{console.log("refresh signer of "+o);try{n.contracts[o].connect(n.signer)}catch(r){console.log("error while refreshing"),console.log(r),n.contracts[o].connect(n.provider)}})},getAll:()=>{const o={};for(const t of n.contracts._contracts)o[t]=n.contracts[t];return o}}}),n=new I(x,B),g={networks:[{name:"Ethereum Mainnet",displayName:"Ethereum",chainId:1,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/ethereum.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://etherscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.infura.io/v3/"},{name:"Ropsten",displayName:"Ropsten (Ethereum Testnet)",chainId:3,type:"testnet",icon:null,currency:{name:"Ropsten Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://ropsten.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://ropsten.infura.io/v3/"},{name:"Rinkeby",displayName:"Rinkeby (Ethereum Testnet)",chainId:4,type:"testnet",icon:null,currency:{name:"Rinkeby Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://rinkeby.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://rinkeby.infura.io/v3/"},{name:"G\xF6rli",displayName:"G\xF6rli (Ethereum Testnet)",chainId:5,type:"testnet",icon:null,currency:{name:"G\xF6rli Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://goerli.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://goerli.infura.io/v3/"},{name:"Optimism",chainId:10,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/optimism.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Etherscan",url:"https://optimistic.etherscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.optimism.io/"},{name:"Cronos Mainnet Beta",displayName:"Cronos",chainId:25,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/cronos.svg",currency:{name:"Cronos",symbol:"CRO",decimals:18},contracts:null,explorer:{name:"Cronos Explorer",url:"https://cronos.org/explorer",standard:"EIP3091"},defaultRPC:"https://evm.cronos.org"},{name:"Telos EVM Mainnet",displayName:"Telos",chainId:40,type:"mainnet",icon:null,currency:{name:"Telos",symbol:"TLOS",decimals:18},contracts:null,explorer:{name:"Teloscan",url:"https://teloscan.io/",standard:"EIP3091"},defaultRPC:"https://mainnet.telos.net/evm"},{name:"Binance Smart Chain Mainnet",displayName:"BSC",chainId:56,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/bsc.svg",currency:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18},contracts:null,explorer:{name:"Bscscan",url:"https://bscscan.com/",standard:"EIP3091"},defaultRPC:"https://bsc-dataseed1.binance.org/"},{name:"Gnosis Chain",displayName:"Gnosis",chainId:100,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/gnosis.svg",currency:{name:"xDAI",symbol:"xDAI",decimals:18},contracts:null,explorer:{name:"Blockscout",url:"https://blockscout.com/xdai/mainnet/",standard:"EIP3091"},defaultRPC:"https://rpc.gnosischain.com"},{name:"Fuse Mainnet",displayName:"Fuse",chainId:122,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/fuse.svg",currency:{name:"Fuse",symbol:"FUSE",decimals:18},contracts:null,explorer:{name:"Fuse Explorer",url:"https://explorer.fuse.io/",standard:"EIP3091"},defaultRPC:"https://rpc.fuse.io"},{name:"Huobi ECO Chain Mainnet",displayName:"HECO",chainId:128,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/heco.svg",currency:{name:"Huobi ECO Chain Native Token",symbol:"HT",decimals:18},contracts:null,explorer:{name:"Hecoinfo",url:"https://hecoinfo.com",standard:"EIP3091"},defaultRPC:"https://http-mainnet.hecochain.com"},{name:"Polygon Mainnet",displayName:"Polygon",chainId:137,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/polygon.svg",currency:{name:"MATIC",symbol:"MATIC",decimals:18},contracts:null,explorer:{name:"Polygonscan",url:"https://polygonscan.com/",standard:"EIP3091"},defaultRPC:"https://polygon-rpc.com/"},{name:"Fantom Opera",displayName:"Fantom",chainId:250,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/fantom.svg",currency:{name:"Fantom",symbol:"FTM",decimals:18},contracts:null,explorer:{name:"Ftmscan",url:"https://ftmscan.com/",standard:"EIP3091"},defaultRPC:"https://rpc.ftm.tools"},{name:"Metis Andromeda Mainnet",displayName:"Metis",chainId:1088,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/metis.svg",currency:{name:"Metis",symbol:"METIS",decimals:18},contracts:null,explorer:{name:"Metis Explorer",url:"https://andromeda-explorer.metis.io",standard:"EIP3091"},defaultRPC:"https://andromeda.metis.io/?owner=1088"},{name:"Moonbeam",chainId:1284,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/moonbeam.svg",currency:{name:"Glimmer",symbol:"GLMR",decimals:18},contracts:null,explorer:{name:"Moonscan",url:"https://moonbeam.moonscan.io",standard:"EIP3091"},defaultRPC:"https://rpc.api.moonbeam.network"},{name:"Moonriver",chainId:1285,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/moonriver.svg",currency:{name:"Moonriver",symbol:"MOVR",decimals:18},contracts:null,explorer:{name:"Moonscan",url:"https://moonriver.moonscan.io/",standard:"EIP3091"},defaultRPC:"https://rpc.api.moonriver.moonbeam.network"},{name:"Klaytn Mainnet Cypress",displayName:"Klaytn",chainId:8217,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/klaytn.svg",currency:{name:"KLAY",symbol:"KLAY",decimals:18},contracts:null,explorer:{name:"Klaytnscope",url:"https://scope.klaytn.com",standard:"EIP3091"},defaultRPC:"https://public-node-api.klaytnapi.com/v1/cypress"},{name:"Hardhat",displayName:"Hardhat",chainId:31337,type:"testnet",icon:null,currency:{name:"GoChain Coin",symbol:"GO",decimals:18},contracts:null,explorer:null,defaultRPC:"http://127.0.0.1:8545/"},{name:"Arbitrum One",displayName:"Arbitrum",chainId:42161,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/arbitrum.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Arbiscan",url:"https://arbiscan.io/",standard:"EIP3091"},defaultRPC:"https://arbitrum-mainnet.infura.io/v3/"},{name:"Celo Mainnet",displayName:"Celo",chainId:42220,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/celo.svg",currency:{name:"CELO",symbol:"CELO",decimals:18},contracts:null,explorer:{name:"Celo Explorer",url:"https://explorer.celo.org/",standard:"EIP3091"},defaultRPC:"https://forno.celo.org"},{name:"Emerald Paratime Mainnet",displayName:"Emerald",chainId:42262,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/emerald.svg",currency:{name:"Emerald Rose",symbol:"ROSE",decimals:18},contracts:null,explorer:{name:"Emerald Explorer",url:"https://explorer.emerald.oasis.dev/",standard:"EIP3091"},defaultRPC:"https://emerald.oasis.dev"},{name:"Avalanche C-Chain",displayName:"Avalanche",chainId:43114,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/avalanche.svg",currency:{name:"Avalanche",symbol:"AVAX",decimals:18},contracts:null,explorer:{name:"Snowtrace",url:"https://snowtrace.io/",standard:"EIP3091"},defaultRPC:"https://api.avax.network/ext/bc/C/rpc"},{name:"Aurora Mainnet",displayName:"Aurora",chainId:1313161554,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/aurora.svg",currency:{name:"Ether",symbol:"ETH",decimals:18},contracts:null,explorer:{name:"Aurorascan",url:"https://aurorascan.dev",standard:"EIP3091"},defaultRPC:"https://mainnet.aurora.dev"},{name:"Harmony Mainnet Shard 0",displayName:"Harmony",chainId:16666e5,type:"mainnet",icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/harmony.svg",currency:{name:"ONE",symbol:"ONE",decimals:18},contracts:null,explorer:{name:"Harmony Block Explorer",url:"https://explorer.harmony.one",standard:"EIP3091"},defaultRPC:"https://api.harmony.one"}],defaults:{networks:{icon:"https://storageapi.fleek.co/f3e0e6d9-57d8-48b7-b4ef-b7bbde26978c-bucket/vuethers/networks/unknown.svg"}}},V={class:"ConnectWalletButton"},R={key:1,disabled:""},P={key:2,disabled:""},O={key:3,disabled:""},T={key:4,disabled:""},D={__name:"_ConnectWalletButton",async setup(o){let t,a;async function l(){try{return await n.signer.getAddress(),n.status.wallet.set("CONNECTED"),!0}catch{return!1}}[t,a]=e.withAsyncContext(()=>l()),await t,a();async function r(){if(!await l())try{n.status.wallet.set("REQUESTED"),await n.provider.send("eth_requestAccounts",[]),n.signer=n.provider.getSigner(),n.status.wallet.set("CONNECTED")}catch(m){console.log(m),m.code===4001?n.status.wallet.set("REFUSED"):n.status.wallet.set("ERROR")}}function d(){n.status.wallet.set("DISCONNECTED")}return(m,w)=>(e.openBlock(),e.createElementBlock("div",V,[e.unref(n).status.wallet.is("DISCONNECTED")?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:r},"Connect Wallet")):e.unref(n).status.wallet.is("REQUESTED")?(e.openBlock(),e.createElementBlock("button",R,"Connection requested...")):e.unref(n).status.wallet.is("REFUSED")?(e.openBlock(),e.createElementBlock("button",P,"Connection refused!")):e.unref(n).status.wallet.is("ERROR")?(e.openBlock(),e.createElementBlock("button",O,"Connection error!")):e.unref(n).status.network.is("WRONG")?(e.openBlock(),e.createElementBlock("button",T,"Wrong network! ("+e.toDisplayString(e.unref(n).networks.current.displayName)+")",1)):e.unref(n).status.wallet.is("CONNECTED")?(e.openBlock(),e.createElementBlock("button",{key:5,onClick:d},"Disconnect")):e.createCommentVNode("",!0)]))}},$={__name:"ConnectWalletButton",setup(o){return(t,a)=>(e.openBlock(),e.createBlock(e.Suspense,null,{default:e.withCtx(()=>[e.createVNode(D)]),_:1}))}},M=e.createTextVNode("Functions : "),A=["onClick"],F=e.createElementVNode("br",null,null,-1),j={key:0},U=e.createElementVNode("small",null,"Inputs :",-1),G=["onUpdate:modelValue","type","placeholder"],H={key:0},L=["onUpdate:modelValue"],W=["onUpdate:modelValue"],q=["value"],v={key:1},K=e.createElementVNode("small",null,"Outputs :",-1),z=["onUpdate:modelValue","placeholder"],Y={key:2},Q=e.createTextVNode(" Events : "),X=e.createElementVNode("p",null,"Logs:",-1),J={__name:"_ContractInteractor",props:{contractName:{type:String,required:!0}},async setup(o){let t,a;const l=o,r=n.contracts[l.contractName],d=([t,a]=e.withAsyncContext(()=>r.owner()),t=await t,a(),t),m=["wei","gwei","ether"];async function w(s,c,i={}){let b,u,h=null;return c?Array.isArray(c)?h=s(...c,i):h=s(c,i):h=s(i),await h.then(y=>b=y).catch(y=>u=y),{data:b,error:u}}async function me(s){const c=[];for(const h of f.value[s].inputs)c.push(h.value);const i={};f.value[s].payable&&f.value[s].tx.value.value!==""&&(console.log(f.value[s].tx.value.value),i.value=k.ethers.utils.parseUnits(f.value[s].tx.value.value,f.value[s].tx.value.unit));const{data:b,error:u}=await w(r.functions[s],c,i);if(u)f.value[s].error=u.reason;else for(let h=0;h<b.length;h++)f.value[s].outputs[h].value=b[h]}const f=e.ref({});for(const s of Object.values(r.interface.functions)){f.value[s.name]={inputs:[],outputs:[],error:null,payable:s.payable,mutability:s.stateMutability==="view"||s.stateMutability==="pure"?"read":"write",tx:{value:{value:"",unit:"wei"}}};for(let c=0;c<s.inputs.length;c++)f.value[s.name].inputs[c]={name:s.inputs[c].name,type:s.inputs[c].type,value:""};for(let c=0;c<s.outputs.length;c++)f.value[s.name].outputs[c]={name:s.outputs[c].name,type:s.outputs[c].type,value:""}}async function pe(s){E.value[s.event].count+=1;let c=`Block ${s.blockNumber} -> {`;for(const i of E.value[s.event].inputs)c+=`${i.name}:${s.args[i.name]}, `;c=c.substring(0,c.length-2)+"}",E.value[s.event].logs.push(c)}const E=e.ref({});for(const s of Object.values(r.interface.events))E.value[s.name]={count:0,logs:[],inputs:s.inputs},r.on(s,pe);function he(s){return s.includes("int")?"number":"text"}function S(s){return`${s.name&&s.name!=="null"?s.name:"unnamed"} (${s.type})`}function fe(s){const c=[];return c.push(s.mutability),s.payable&&c.push("payable"),c.join(", ")}return(s,c)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("p",null,"Interact with '"+e.toDisplayString(o.contractName)+"' contract :",1),e.createElementVNode("ul",null,[e.createElementVNode("li",null,"Address : "+e.toDisplayString(e.unref(r).address),1),e.createElementVNode("li",null,"Owner : "+e.toDisplayString(e.unref(d)),1),e.createElementVNode("li",null,[M,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value,(i,b)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("button",{onClick:u=>me(b)},e.toDisplayString(b),9,A),e.createElementVNode("small",null,"("+e.toDisplayString(fe(i))+")",1),F,Object.keys(i.inputs).length>0||i.payable?(e.openBlock(),e.createElementBlock("div",j,[U,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.inputs,(u,h)=>(e.openBlock(),e.createElementBlock("li",null,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":y=>u.value=y,type:he(u.type),placeholder:S(u)},null,8,G),[[e.vModelDynamic,u.value]])]))),256)),i.payable?(e.openBlock(),e.createElementBlock("li",H,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":u=>i.tx.value.value=u,type:"text",placeholder:"TX value"},null,8,L),[[e.vModelText,i.tx.value.value]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":u=>i.tx.value.unit=u},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(m,u=>e.createElementVNode("option",{value:u},e.toDisplayString(u),9,q)),64))],8,W),[[e.vModelSelect,i.tx.value.unit]])])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),Object.keys(i.outputs).length>0?(e.openBlock(),e.createElementBlock("div",v,[K,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.outputs,(u,h)=>(e.openBlock(),e.createElementBlock("li",null,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":y=>u.value=y,type:"text",placeholder:S(u),disabled:""},null,8,z),[[e.vModelText,u.value]])]))),256))])])):e.createCommentVNode("",!0),i.error?(e.openBlock(),e.createElementBlock("p",Y,e.toDisplayString(i.error),1)):e.createCommentVNode("",!0)]))),256))])]),e.createElementVNode("li",null,[Q,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(E.value,(i,b)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("h3",null,e.toDisplayString(b),1),e.createElementVNode("p",null,"Count : "+e.toDisplayString(i.count),1),X,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.logs,u=>(e.openBlock(),e.createElementBlock("li",null,e.toDisplayString(u),1))),256))])]))),256))])])])],64))}},Z={__name:"ContractInteractor",props:{contractName:{type:String,required:!0}},setup(o){const t=o;return(a,l)=>(e.openBlock(),e.createBlock(e.Suspense,null,{default:e.withCtx(()=>[e.createVNode(J,{contractName:t.contractName},null,8,["contractName"])]),_:1}))}},ee={class:"SelectNetworkDropdown"},te={key:0,selected:""},ne=["src","alt"],ae=["onClick"],re=["src","alt"],oe={__name:"SelectNetworkDropdown",setup(o){async function t(r){const d=n.networks.available.find(m=>m.chainId===parseInt(r));if(d){r=k.ethers.utils.hexlify(parseInt(r)).toString(),r=k.ethers.utils.hexValue(r);try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})}catch(w){w.code===4902&&await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:r,rpcUrls:[d.defaultRPC],chainName:d.name,nativeCurrency:{name:d.currency.symbol,symbol:d.currency.symbol,decimals:d.currency.decimals},blockExplorerUrls:d.explorer&&d.explorer.url!==""?[d.explorer.url]:null}]})}const m=await n.provider.getNetwork();n.networks.current.chainId!==m.chainId&&window.location.reload()}}let a=e.ref(!1);function l(){a.value=!a.value}return(r,d)=>(e.openBlock(),e.createElementBlock("div",ee,[e.createElementVNode("ul",{onClick:l},[e.unref(n).networks.current?(e.openBlock(),e.createElementBlock("li",te,[e.createElementVNode("img",{width:"40",src:e.unref(n).networks.current.icon?e.unref(n).networks.current.icon:e.unref(n).defaults.networks.icon,alt:e.unref(n).networks.current.name+" logo"},null,8,ne),e.createElementVNode("p",null,e.toDisplayString(e.unref(n).networks.current.displayName),1)])):e.createCommentVNode("",!0),a.value?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(n).networks.available,m=>(e.openBlock(),e.createElementBlock("li",{key:m.chainId,onClick:w=>t(m.chainId)},[e.createElementVNode("img",{width:"40",src:m.icon?m.icon:e.unref(n).defaults.networks.icon,alt:m.name+" logo"},null,8,re),e.createElementVNode("p",null,e.toDisplayString(m.displayName),1)],8,ae))),128)):e.createCommentVNode("",!0)])]))}};class N{constructor(t,a){if(this._name=t,this.states=[],!Array.isArray(a))throw`The 'states' parameter of a Status instance '${t}' must an array of strings. Got: ${a}`;for(const l of a)this.states.push(this._formatState(l));this._state=e.ref(this.states[0])}_formatState(t){return t.toString().toUpperCase()}_isStateValid(t){return!!this.states.includes(this._formatState(t))}_areStatesValid(t){for(const a of t)if(!this._isStateValid(a))return!1;return!0}get(){return this._state.value}set(t){if(t=this._formatState(t),!this._isStateValid(t))throw`The state given to the set() method of Status instance '${this._name}' must a value in ${this.states}. Got: ${t}`;this._state.value=t}is(t){if(!this._isStateValid(t))throw`The state given to the is() method of Status instance '${this._name}' must a value in ${this.states}. Got: ${t}`;return this.get()==this._formatState(t)}isIn(t){if(!this._areStatesValid(t))throw`The states given to the isIn() method of Status instance '${this._name}' must be an array with values in ${this.states}. Got: ${t}`;for(const a of t)if(this.is(a))return!0;return!1}watch(t){e.watch(this._state,()=>{t(this.get())})}watchState(t,a){if(!this._isStateValid(t))throw`The state given to the watchState() method of Status instance '${this._name}' must a value in ${this.states}. Got: ${t}`;e.watch(this._state,(l,r)=>{this.is(t)&&a(this.get())})}watchStates(t,a){if(!this._areStatesValid(t))throw`The states given to the watchStates() method of Status instance '${this._name}' must be an array with values in ${this.states}. Got: ${t}`;e.watch(this._state,()=>{this.isIn(t)&&a(this.get())})}}function se(o,t){if(n.initialized)o();else{const a=e.watch(()=>n.initialized,()=>{o(),a()})}}function le(o){const t=o.split(" ");for(let a=0;a<t.length;a++)t[a]=t[a][0].toUpperCase()+t[a].substring(1);return t.join(" ")}function C(o){return o&&typeof o=="object"&&!Array.isArray(o)}function _(o,...t){if(!t.length)return o;const a=t.shift();if(C(o)&&C(a))for(const l in a)C(a[l])?(o[l]||Object.assign(o,{[l]:{}}),_(o[l],a[l])):Object.assign(o,{[l]:a[l]});return _(o,...t)}async function ce(){n.status.add("wallet",["DISCONNECTED","REQUESTED","REFUSED","ERROR","CONNECTED"]),n.status.add("network",["OK","WRONG","ERROR"]),n.status.wallet.watchStates(["REFUSED","ERROR"],()=>{setTimeout(()=>{n.status.wallet.set("DISCONNECTED")},5e3)})}async function ie(){n.provider=e.markRaw(new k.ethers.providers.Web3Provider(window.ethereum,"any")),n.provider.on("network",(o,t)=>{t&&t!==o&&window.location.reload()})}async function de(){n.signer=e.markRaw(n.provider.getSigner())}async function ue(o,t){console.log(o),o.config.globalProperties.dapp=n,await ce(),await ie(),await de();const a=await n.provider.getNetwork();if(t){const l=_({...g},{...t});l.networks=[];for(let r of t.networks)if(r.chainId){const d=g.networks.find(m=>m.chainId===r.chainId);r=_({...d},{...r}),r.displayName||(r.displayName=r.name),l.networks.push(r)}if(n.defaults=l.defaults,l.networks)if(n.networks={available:l.networks.filter(r=>r.chainId!==a.chainId),current:l.networks.find(r=>r.chainId===a.chainId),known:g.networks},n.networks.current&&n.networks.current.contracts)for(const[r,d]of Object.entries(n.networks.current.contracts))n.contracts.add(r,d.address,d.abi);else{const r=n.networks.known.find(d=>d.chainId===a.chainId);r?n.networks.current=r:(n.networks.current=a,n.networks.current.displayName=le(n.networks.current.name)),n.status.network.set("WRONG")}}n.initialized=!0}p.ConnectWalletButton=$,p.ContractInteractor=Z,p.SelectNetworkDropdown=oe,p.Status=N,p.dapp=n,p.initVuethers=ue,p.safeRun=se,Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
